if (self.CavalryLogger) { CavalryLogger.start_js(["N23mi"]); }

__d("AvailableListState",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OFFLINE:0,IDLE:1,ACTIVE:2,MOBILE:3})}),null);
__d("AvailableListConstants",["AvailableListState"],(function(a,b,c,d,e,f){a=Object.freeze({ON_AVAILABILITY_CHANGED:"buddylist/availability-changed",ON_UPDATE_ERROR:"buddylist/update-error",ON_UPDATED:"buddylist/updated",ON_CHAT_NOTIFICATION_CHANGED:"chat-notification-changed",OFFLINE:b("AvailableListState").OFFLINE,IDLE:b("AvailableListState").IDLE,ACTIVE:b("AvailableListState").ACTIVE,MOBILE:b("AvailableListState").MOBILE,WEB_STATUS:"webStatus",FB_APP_STATUS:"fbAppStatus",MESSENGER_STATUS:"messengerStatus",OTHER_STATUS:"otherStatus",STATUS_ACTIVE:"active",STATUS_IDLE:"idle",STATUS_OFFLINE:"offline"});e.exports=a}),null);
__d("LastActiveTimes",["fbt","ServerTime"],(function(a,b,c,d,e,f,g){__p&&__p();var h={};function i(a){__p&&__p();if(!a||a<0)return null;a=b("ServerTime").get()/1e3-a;a=Math.floor(a/60);var c=Math.floor(a/60),d=Math.floor(c/24);if(a<=1)return g._({"*":"{count} min"},[g._param("count",1,[0])]);else if(a<60)return g._({"*":"{count} min"},[g._param("count",a,[0])]);else if(c<24)return g._({"*":"{count} h"},[g._param("count",c,[0])]);else if(d<3)return g._({"*":"{count} j"},[g._param("count",d,[0])]);else return null}function j(a,b){(!(a in h)||h[a]<b)&&(h[a]=b)}function k(a){if(a in h)return h[a];else return 0}a={update:function(a){for(var b in a)j(b,a[b])},getShortDisplay:function(a){return i(k(a))},get:function(a){return k(a)},getDebugData:function(){return h}};e.exports=a}),null);
__d("ChatConfig",["invariant","ChatConfigInitialData"],(function(a,b,c,d,e,f,g){__p&&__p();var h=Object.assign({},b("ChatConfigInitialData")),i={get:function(a,b){return a in h?h[a]:b},getBool:function(a){return!!i.get(a,!1)},getNumber:function(a,b){b===void 0&&(b=0);if(a in h){typeof h[a]==="number"||g(0);return h[a]}return b},set:function(a,b){h[a]=b},getDebugInfo:function(){return h}};e.exports=i}),null);
__d("PresenceUtil",["CurrentUser","randomInt"],(function(a,b,c,d,e,f){var g=b("randomInt")(0,4294967295)+1;function a(){return g}function c(){return b("CurrentUser").isLoggedInNow()}e.exports={getSessionID:a,hasUserCookie:c}}),null);
__d("PresencePrivacy",["Arbiter","ArbiterMixin","AsyncRequest","ChannelConstants","CurrentUser","JSLogger","PresencePrivacyInitialData","PresenceUtil","mixin"],(function(a,b,c,d,e,f){__p&&__p();var g,h="/ajax/chat/privacy/settings.php",i="/ajax/chat/privacy/online_policy.php",j="/ajax/chat/privacy/visibility.php",k="friend_visibility",l="visibility",m="online_policy",n=babelHelpers["extends"]({},b("PresencePrivacyInitialData").privacyData),o=b("PresencePrivacyInitialData").visibility,p=babelHelpers["extends"]({},b("PresencePrivacyInitialData").privacyData),q=o,r=b("PresencePrivacyInitialData").onlinePolicy,s=r,t=[],u=!1;function v(){return b("JSLogger").create("blackbird")}d=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));g=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.WHITELISTED=1,this.BLACKLISTED=-1,this.UNLISTED=0,this.ONLINE=1,this.OFFLINE=0,this.ONLINE_TO_WHITELIST=0,this.ONLINE_TO_BLACKLIST=1,b}a.prototype.init=function(a,b,c){"use strict"};a.prototype.setVisibility=function(a){"use strict";q=o;z(a);var b={visibility:a},c={type:l,visibility:a},d=H(j,b,c);C(d,c);v().log("set_visibility",{data:b});return a};a.prototype.getVisibility=function(){"use strict";return o};a.prototype.setOnlinePolicy=function(a){"use strict";s=r;A(a);var b={online_policy:a},c={type:m,online_policy:a},d=H(i,b,c);C(d,c);v().log("set_online_policy",{data:b});return a};a.prototype.getOnlinePolicy=function(){"use strict";return r};a.prototype.getFriendVisibility=function(a){"use strict";return n[a]||w.UNLISTED};a.prototype.getFriendsVisibility=function(){"use strict";return n};a.prototype.isUserOffline=function(){"use strict";return this.getVisibility()===w.OFFLINE};a.prototype.allows=function(a){"use strict";return this.isUserOffline()?!1:this.allowsIfViewerIsOnline(a)};a.prototype.allowsIfViewerIsOnline=function(a){"use strict";var b=this.getOnlinePolicy();return b===w.ONLINE_TO_WHITELIST?n[a]==w.WHITELISTED:n[a]!=w.BLACKLISTED};a.prototype.getOnlinePolicyStr=function(){"use strict";if(this.isUserOffline())return"offline";var a=this.getOnlinePolicy();if(a===w.ONLINE_TO_WHITELIST)return"online_to_whitelist";return a===w.ONLINE_TO_BLACKLIST?"online_to_blacklist":"unknown"};a.prototype.setFriendsVisibility=function(a,b){"use strict";__p&&__p();if(a.length>0){var c={};for(var d=0;d<a.length;d++){var e=a[d];p[e]=n[e];c[e]=b}x(c);e=b;e==w.UNLISTED&&(e=p[a[0]]);d={users:a,setting:b,setting_type:e};a={type:k,settings:c};e=H(h,d,a);C(e,a);v().log("set_friend_visibility",{data:d})}return b};a.prototype.setFriendVisibilityMap=function(a,b){"use strict";for(var c in a)p[c]=n[c];x(a);var d={type:k,settings:a};C(G(b,d),d);v().log("set_friend_visibility_from_map",{data:a})};a.prototype.allow=function(a){"use strict";__p&&__p();if(this.allows(a)){v().error("allow_already_allowed");throw new Error("allow() should only be called for users that are not already allowed")}if(this.getVisibility()===w.OFFLINE){v().error("allow_called_while_offline");throw new Error("allow() should only be called when the user is already online")}var b=this.getOnlinePolicy()===w.ONLINE_TO_WHITELIST?w.WHITELISTED:w.UNLISTED;return this.setFriendsVisibility([a],b)};a.prototype.disallow=function(a){"use strict";__p&&__p();if(!this.allows(a)){v().error("disallow_already_disallowed");throw new Error("disallow() should only be called for users that are not already disallowed")}if(this.getVisibility()===w.OFFLINE){v().error("disallow_called_while_offline");throw new Error("disallow() should only be called when the user is already online")}var b=this.getOnlinePolicy()===w.ONLINE_TO_BLACKLIST?w.BLACKLISTED:w.UNLISTED;return this.setFriendsVisibility([a],b)};a.prototype.getBlacklist=function(){"use strict";var a=[];for(var b in n)n[b]===w.BLACKLISTED&&a.push(b);return a};a.prototype.getWhitelist=function(){"use strict";var a=[];for(var b in n)n[b]===w.WHITELISTED&&a.push(b);return a};a.prototype.getMapForTest=function(){"use strict";return n};a.prototype.setMapForTest=function(a){"use strict";n=a};var w=new a();function x(a){__p&&__p();var c;for(c in a){var d=a[c];if(c==b("CurrentUser").getID()){v().error("set_viewer_visibility");throw new Error("Invalid to set current user's visibility")}switch(d){case w.WHITELISTED:case w.BLACKLISTED:case w.UNLISTED:break;default:v().error("set_invalid_friend_visibility",{id:c,value:d});throw new Error("Invalid state: "+d)}}for(c in a)n[c]=a[c];w.inform("privacy-changed")}function y(a,b){var c={};c[a]=b;x(c)}function z(a){switch(a){case w.ONLINE:case w.OFFLINE:break;default:v().error("set_invalid_visibility",{value:a});throw new Error("Invalid visibility: "+a)}o=a;w.inform("privacy-changed");w.inform("privacy-user-presence-changed")}function A(a){switch(a){case w.ONLINE_TO_WHITELIST:case w.ONLINE_TO_BLACKLIST:break;default:throw new Error("Invalid default online policy: "+a)}r=a;w.inform("privacy-user-presence-changed");w.inform("privacy-changed")}function B(a,b){u=!0,a.send()}function C(a,b){t.push({request:a,data:b});if(!u){a=t.shift();B(a.request,a.data)}}function D(a,b){var c=a.type;if(c===k){w.inform("privacy-availability-changed");for(var d in a.settings)p[d]=a.settings[d]}else c===l?q=a.visibility:c===m&&(s=a.online_policy),w.inform("privacy-user-presence-response");v().log("set_update_response",{data:a,response:b})}function E(a,b){o!==q&&z(q),r!==s&&A(s),Object.assign(n,p),w.inform("privacy-changed"),t=[],v().log("set_error_response",{data:a,response:b})}function F(a){u=!1;if(t.length>0){a=t.shift();B(a.request,a.data)}}function G(a,c){if(b("PresenceUtil")!=null){var d=a.getData();d.window_id=b("PresenceUtil").getSessionID();a.setData(d)}a.setHandler(D.bind(this,c)).setErrorHandler(E.bind(this,c)).setTransportErrorHandler(E.bind(this,c)).setFinallyHandler(F.bind(this)).setAllowCrossPageTransition(!0);return a}function H(a,c,d){return G(new(b("AsyncRequest"))(a).setData(c),d)}function c(a,c){__p&&__p();var d=c.obj;if(d.viewer_id!=b("CurrentUser").getID()){v().error("invalid_viewer_for_channel_message",{type:a,data:c});throw new Error("Viewer got from the channel is not the real viewer")}if(d.window_id===b("PresenceUtil").getSessionID())return;var e=d.data;if(d.event=="access_control_entry")e.target_ids.forEach(function(a){y(a,e.setting),p[a]=e.setting});else{if(d.event=="visibility_update"){a=e.visibility?w.ONLINE:w.OFFLINE;z(a);q=a}else d.event=="online_policy_update"&&(A(e.online_policy),s=e.online_policy);w.inform("privacy-user-presence-response")}v().log("channel_message_received",{data:c.obj})}w.inform("privacy-changed");w.inform("privacy-user-presence-changed",b("Arbiter").BEHAVIOR_STATE);v().log("initialized",{visibility:o,policy:r});b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,c){c.presence_privacy={initial:b("PresencePrivacyInitialData").privacyData,current:n}});b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("privacy_changed"),c.bind(this));b("Arbiter").subscribe(b("ChannelConstants").ON_CONFIG,function(a,b){a=b.getConfig("visibility",null);if(a!==null&&typeof a!=="undefined"){b=a?w.ONLINE:w.OFFLINE;z(b);v().log("config_visibility",{vis:b})}}.bind(this));e.exports=w}),null);
__d("ChatVisibility",["Arbiter","JSLogger","PresencePrivacy"],(function(a,b,c,d,e,f){var g={isOnline:function(){return b("PresencePrivacy").getVisibility()===b("PresencePrivacy").ONLINE},hasBlackbirdEnabled:function(){return this.isVisibleToMostFriends()||this.isVisibleToSomeFriends()},isVisibleToMostFriends:function(){return b("PresencePrivacy").getOnlinePolicy()===b("PresencePrivacy").ONLINE_TO_BLACKLIST&&b("PresencePrivacy").getBlacklist().length>0},isVisibleToSomeFriends:function(){return b("PresencePrivacy").getOnlinePolicy()===b("PresencePrivacy").ONLINE_TO_WHITELIST&&b("PresencePrivacy").getWhitelist().length>0},goOnline:function(a){b("PresencePrivacy").getVisibility()===b("PresencePrivacy").OFFLINE&&(b("JSLogger").create("blackbird").log("chat_go_online"),b("PresencePrivacy").setVisibility(b("PresencePrivacy").ONLINE),b("Arbiter").inform("chat-visibility/go-online")),a&&a()},goOffline:function(a){b("PresencePrivacy").getVisibility()===b("PresencePrivacy").ONLINE&&(b("JSLogger").create("blackbird").log("chat_go_offline"),b("PresencePrivacy").setVisibility(b("PresencePrivacy").OFFLINE),b("Arbiter").inform("chat-visibility/go-offline")),a&&a()},toggleVisibility:function(){g.isOnline()?g.goOffline():g.goOnline()}};e.exports=g}),null);
__d("PresenceStatus",["ArbiterMixin","AvailableListConstants","AvailableListInitialData","BanzaiODS","Bootloader","ChatConfig","ChatVisibility","CurrentUser","FBIDCheck","FBLogger","LastActiveTimes","PresencePrivacy","ServerTime","createObjectFrom","debounceAcrossTransitions","gkx"],(function(a,b,c,d,e,f){__p&&__p();b("BanzaiODS").setEntitySample("presence",1e-4);var g={},h={},i={},j={},k=null,l=Object.assign({},b("ArbiterMixin")),m=b("debounceAcrossTransitions")(function(){return l.inform("change")},0);function n(a){var c,d=parseInt(a.topic.match(/\d+$/),10);a=parseInt(JSON.parse(a.payload).lat,10);var e=Date.now()-a*1e3;e=b("ChatConfig").get("active_cutoff")*1e3-e;b("LastActiveTimes").update((c={},c[d]=a,c));l.checkPresence(d);l.get(d)===b("AvailableListConstants").ACTIVE&&(clearTimeout(j[d].timeout),j[d].timeout=setTimeout(function(){l.checkPresence(d)},e))}function o(a){try{a=JSON.parse(a.payload);k=a.capabilityBitMask}catch(a){}}function p(a){return/^\d+$/.test(a)}Object.assign(l,{resetPresenceData:function(){g={},h={}},reset:function(){l.resetPresenceData(),i={}},get:function(a){!p(a)&&b("ChatConfig").get("presence_throw_for_malformed_id")&&b("FBLogger")("presence").warn("received malformed id '%s'",a);if(a==b("CurrentUser").getID())return b("ChatVisibility").isOnline()?b("AvailableListConstants").ACTIVE:b("AvailableListConstants").OFFLINE;p(a)&&!b("FBIDCheck").isUser_deprecated(a)&&!j[a]&&(b("BanzaiODS").bumpEntityKey("presence","page_subscribe"),j[a]={},b("ChatConfig").get("presence_page_green_dot_sub")&&b("Bootloader").loadModules(["RTISubscriptionManager"],function(b){b.subscribe("presence_push/fb/"+a,n)},"PresenceStatus"));var c=b("AvailableListConstants").OFFLINE;a in g&&(c=g[a]);b("PresencePrivacy").allows(a)||(c=b("AvailableListConstants").OFFLINE);return c},getCapabilities:function(a){a=h[a];return a?a:0},getViewerCapabilities:function(){if(k!==null)return k;b("Bootloader").loadModules(["RTISubscriptionManager"],function(a){a.subscribe("presence/fb/"+b("CurrentUser").getID(),o)},"PresenceStatus");k=b("ChatConfig").get("viewer_presence_capabilities");return k},isPlayingCanvasGameUser:function(a){return!!i[a]},getGroup:function(a){return a.some(function(a){return a==b("CurrentUser").getID()?!1:l.get(a)===b("AvailableListConstants").ACTIVE})?b("AvailableListConstants").ACTIVE:b("AvailableListConstants").OFFLINE},set:function(a,c,d,e,f,i){__p&&__p();if(a==b("CurrentUser").getID())return!1;var j;if(c!==null&&c!==undefined){c=c==b("AvailableListConstants").ACTIVE?b("AvailableListConstants").ACTIVE:b("AvailableListConstants").OFFLINE;d=l.get(a);j=d!=c;if((j||c==b("AvailableListConstants").ACTIVE)&&b("FBIDCheck").isUser_deprecated(a)){b("LastActiveTimes").update((e={},e[a]=b("ServerTime").get()/1e3,e))}g[a]=c}d=!1;f!==undefined&&f!==null&&(d=l.getCapabilities(a)!=f,h[a]=f);e=j||d;e&&!i&&m();return e},setPlayingCanvasGameFriends:function(a){if(!b("gkx")("AT63aD2C9-fv79urP7EIQBv3xq1MHcxwP1I6FtWmRNMg4KbjP2Am2oU4XyjW-B79fHuBlyNprN6_RmaeE-t7Y3Fw"))return;i=b("createObjectFrom")(a)},getOnlineIDs:function(){var a,c=[];for(a in g)l.get(a)===b("AvailableListConstants").ACTIVE&&c.push(a);return c},getAllIDs:function(){return Object.keys(g)},getOnlineCount:function(){return l.getOnlineIDs().length},getPresenceStats:function(){__p&&__p();var a=0,c=0,d=0;for(var e in g){a+=1;switch(l.get(e)){case b("AvailableListConstants").OFFLINE:c+=1;break;case b("AvailableListConstants").ACTIVE:d+=1;break;default:break}}return{total:a,offline:c,active:d}},getAllDebugInfo:function(){var a={};for(var b in g)a[b]={p:g[b],vc:h[b]};return a},setMultiChatproxy:function(a){var c={};for(var d in a){a[d].lat&&(c[d]=a[d].lat);var e=a[d].p;l.set(d,e,!1,"chatproxy",a[d].vc,!0)}b("LastActiveTimes").update(c);m()},setMultiActive:function(a,c){var d=!1;a.forEach(function(a){l.set(a,b("AvailableListConstants").ACTIVE,!1,c,null,!0)&&(d=!0)});d&&m()},checkPresence:function(a){var c=!1,d=Math.ceil(Date.now()/1e3)-b("LastActiveTimes").get(a);l.set(a,d<b("ChatConfig").get("active_cutoff")?b("AvailableListConstants").ACTIVE:b("AvailableListConstants").OFFLINE,!1,"pylon",null,!0)&&(c=!0);c&&m()}});b("AvailableListInitialData").activeList&&b("AvailableListInitialData").activeList.length>0&&l.setMultiActive(b("AvailableListInitialData").activeList,"available_list_active");b("AvailableListInitialData").playingNow&&b("AvailableListInitialData").playingNow.length>0&&l.setPlayingCanvasGameFriends(b("AvailableListInitialData").playingNow);b("AvailableListInitialData").lastActiveTimes&&Object.keys(b("AvailableListInitialData").lastActiveTimes).length>0&&b("LastActiveTimes").update(b("AvailableListInitialData").lastActiveTimes);e.exports=l}),null);
__d("ChatproxyPresence",["Arbiter","AvailableListConstants","AvailableListInitialData","BanzaiODS","ChannelConstants","LastActiveTimes","PresenceStatus","debounceAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.$1=a,this.$2=!1,this.$3=b("AvailableListInitialData").chatNotif,this.$4=!1}a.prototype.subscribe=function(){"use strict";__p&&__p();b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("chatproxy-presence"),this.updatePresenceInfo.bind(this)),b("Arbiter").subscribe(b("ChannelConstants").ON_INVALID_HISTORY,function(){this.$2=!0}.bind(this)),b("Arbiter").subscribe(b("ChannelConstants").RTI_SESSION,function(a,b){b&&(this.$4=b)}.bind(this)),b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("get_debug_presence"),function(a,c){a=b("PresenceStatus").getAllDebugInfo();c=b("LastActiveTimes").getDebugData();for(var d in c){var e=a[d];e===undefined&&(e={},a[d]=e);e.l=Math.floor(c[d])}this.$4.issueRequest("/debug_presence",{},a,function(){b("BanzaiODS").bumpEntityKey("ChatproxyPresence","debug_presence.sucess")})}.bind(this))};a.prototype.getRTISession=function(){"use strict";return this.$4};a.prototype.updatePresenceInfo=function(a,c){"use strict";__p&&__p();this.$2&&(this.$2=!1,b("PresenceStatus").resetPresenceData());c=c.obj;a=c.buddyList;b("PresenceStatus").setMultiChatproxy(a);a=!1;c.chatNotif!==undefined&&(a=this.$3!==c.chatNotif);a&&(this.$3=c.chatNotif);c.gamers&&b("PresenceStatus").setPlayingCanvasGameFriends(c.gamers);a&&this.$1(b("AvailableListConstants").ON_CHAT_NOTIFICATION_CHANGED,this.$3);b("debounceAcrossTransitions")(function(){this.$1(b("AvailableListConstants").ON_AVAILABILITY_CHANGED)}.bind(this),0)()};a.prototype.getWebChatNotification=function(){"use strict";return this.$3};e.exports=a}),null);
__d("ChatDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("ExplicitRegistrationDispatcher"));g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=new a({strict:!1})}),null);
__d("ChatReliabilityEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ERROR:"error",CHANNEL_DISCONNECT:"channel_disconnect",CHANNEL_CONNECT:"channel_connect",CHANNEL_INIT:"channel_init",CHANNEL_NOCONFIG:"channel_noconfig",CHANNEL_HISTORY_INVALID:"channel_history_invalid",CHANNEL_STALLED:"channel_stalled",MESSAGE_RECEIVED:"msg_received",MESSAGE_SEND_START:"msg_send_start",THREAD_INFO_ENDPOINT_FATAL:"thread_info_fatal",DFF_ENDPOINT_FATAL:"invalidate_global_state_fatal",DFF_DELTA_INIT:"dff_initiated_by_delta",DFF_HOLE_INIT:"dff_initiated_by_hole"})}),null);
__d("ChatReliabilityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setEventData=function(a){this.$1.event_data=a;return this};c={event:!0,event_data:!0};e.exports=a}),null);
__d("ChatReliabilityInstrumentation",["ChatReliabilityEvents","ChatReliabilityTypedLogger","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(event,a){if(!b("gkx")("AT5ZjV8HMgIrvWAdtan2dRootzXgNDn_gwV31adDo4tXzlNarwl6mRO_oeBdt0f9htexVFvjQxI0k_n8DA4dQ67qv29jXbtX1X-VERmy6nzotA"))return;new(b("ChatReliabilityTypedLogger"))().setEvent(event).setEventData(a).log()};a={logERROR:function(a){g(b("ChatReliabilityEvents").ERROR,a)},logCHANNEL_DISCONNECT:function(a){g(b("ChatReliabilityEvents").CHANNEL_DISCONNECT,a)},logCHANNEL_CONNECT:function(a){g(b("ChatReliabilityEvents").CHANNEL_CONNECT,a)},logCHANNEL_HISTORY_INVALID:function(a){g(b("ChatReliabilityEvents").CHANNEL_HISTORY_INVALID,a)},logMESSAGE_RECEIVED:function(a){g(b("ChatReliabilityEvents").MESSAGE_RECEIVED,a)},logMESSAGE_SEND_START:function(a){g(b("ChatReliabilityEvents").MESSAGE_SEND_START,a)},logCHANNEL_STALLED:function(a){g(b("ChatReliabilityEvents").CHANNEL_STALLED,a)},logCHANNEL_INIT:function(a){g(b("ChatReliabilityEvents").CHANNEL_INIT,a)},logCHANNEL_NOCONFIG:function(a){g(b("ChatReliabilityEvents").CHANNEL_NOCONFIG,a)},logDFF_DELTA_INIT:function(a){g(b("ChatReliabilityEvents").DFF_DELTA_INIT,a)},logDFF_HOLE_INIT:function(a){g(b("ChatReliabilityEvents").DFF_HOLE_INIT,a)}};e.exports=a}),null);
__d("PresenceStatusActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({AVAILABILITY_CHANGED:null})}),null);
__d("TypingStates",[],(function(a,b,c,d,e,f){a=Object.freeze({INACTIVE:0,TYPING:1,QUITTING:2});e.exports=a}),null);
__d("AvailableList",["Arbiter","ArbiterMixin","AsyncRequest","AvailableListConstants","BanzaiODS","Bootloader","ChannelConstants","ChatConfig","ChatDispatcher","ChatproxyPresence","ChatReliabilityInstrumentation","ChatVisibility","CurrentUser","FBIDCheck","FBLogger","JSLogger","LastActiveTimes","PresencePrivacy","PresenceStatus","PresenceStatusActionTypes","Run","ServerTime","TypingStates","debounceAcrossTransitions","emptyFunction","requireWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("BanzaiODS").setEntitySample("presence",1e-4);var g=babelHelpers["extends"]({},b("AvailableListConstants"),b("ArbiterMixin")),h=/\D/;g.subscribe([b("AvailableListConstants").ON_AVAILABILITY_CHANGED,b("AvailableListConstants").ON_UPDATE_ERROR],function(a,c){b("Arbiter").inform(a,c)});b("PresenceStatus").subscribe("change",b("debounceAcrossTransitions")(function(){g.inform(b("AvailableListConstants").ON_AVAILABILITY_CHANGED)},0));var i=b("debounceAcrossTransitions")(function(){g.inform(b("AvailableListConstants").ON_AVAILABILITY_CHANGED),b("ChatDispatcher").dispatch({type:b("PresenceStatusActionTypes").AVAILABILITY_CHANGED})},0);function j(a,c,d,e,f){if(a===b("CurrentUser").getID())return;c=b("PresenceStatus").set(a,c,d,e,f);if(c){d=b("debounceAcrossTransitions")(function(){g.inform(b("AvailableListConstants").ON_AVAILABILITY_CHANGED,a),b("ChatDispatcher").dispatch({type:b("PresenceStatusActionTypes").AVAILABILITY_CHANGED,id:a})},0);d()}}function k(a){a=a.payload.availability||{};for(var b in a)j(b&&b.toString(),a[b].a,!0,"mercury_tabs",a[b].c)}function l(a){if(!a||a==="0"||h.test(a)){b("ChatReliabilityInstrumentation").logERROR("bad id for available list: "+a);return}new(b("AsyncRequest"))("/ajax/mercury/tabs_presence.php").setData({target_id:a}).setHandler(k).setErrorHandler(b("emptyFunction")).setAllowCrossPageTransition(!0).send()}function a(a,c){c.chat_config=b("ChatConfig").getDebugInfo(),c.available_list_debug_info={count:b("PresenceStatus").getOnlineIDs().length}}var m=undefined;try{m=new(b("ChatproxyPresence"))(function(event){g.inform(event)}),m.subscribe()}catch(a){b("FBLogger")("chat").catching(a).mustfix("Failed to subscribe to chat proxy presence"),b("ChatReliabilityInstrumentation").logERROR(a.getMessage())}Object.assign(g,{getChatproxyPresenceObject:function(){return m},get:function(a){return b("PresenceStatus").get(a)},updateForID:function(a){if(b("ChatConfig").get("presence_page_green_dot_sub")&&!b("FBIDCheck").isUser_deprecated(a))return;l(a);b("PresencePrivacy").getVisibility()==b("PresencePrivacy").ONLINE&&b("Run").onAfterLoad(function(){return b("Bootloader").loadModules(["ChannelManager","ChannelTransport"],function(b,c){b.startChannelManager(),c.sendAdditionalBuddyRequest(b.getCompleteConfig(),a)},"AvailableList")})},getWebChatNotification:function(){return m&&m.getWebChatNotification()},isReady:function(){return!!m},set:function(a,b,c,d){j(a,b,!0,c,d)}});b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,a);b("PresencePrivacy").subscribe(["privacy-changed","privacy-availability-changed","privacy-user-presence-response"],i);b("requireWeak")("ChannelConnection",function(a){return a.subscribe([a.CONNECTED,a.RECONNECTING,a.SHUTDOWN,a.MUTE_WARNING,a.UNMUTE_WARNING],i)});b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("buddylist_overlay"),function(a,c){a={};c=c.obj.overlay;for(var d in c)g.set(d,c[d].a,c[d].s||"channel",c[d].vc),c[d].la&&(a[d]=c[d].la);b("LastActiveTimes").update(a)});b("Arbiter").subscribe([b("ChannelConstants").getArbiterType("typ"),b("ChannelConstants").getArbiterType("ttyp")],function(a,c){__p&&__p();a=c.obj;if(a.st===b("TypingStates").TYPING){c=a.from;if(b("ChatVisibility").isOnline()){b("BanzaiODS").bumpEntityKey("presence","stale_presence_check_typing");a=b("PresenceStatus").get(c);if(a!=b("AvailableListConstants").ACTIVE){a=b("LastActiveTimes").get(c)*1e3;var d=b("ServerTime").get();if(!a)b("BanzaiODS").bumpEntityKey("presence","no_detailed_presence_typing");else if(d-a>5*60*1e3){var e="stale_presence_typing";d=d-a;d<10*60*1e3?e+="600":d<60*60*1e3&&(e+="3600");b("BanzaiODS").bumpEntityKey("presence",e)}}}g.set(c&&c.toString(),b("AvailableListConstants").ACTIVE,"channel-typing")}});b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("messaging"),function(a,c){__p&&__p();if(!b("ChatVisibility").isOnline())return;a=c.obj;if(a.message&&a.message.timestamp&&a.message.sender_fbid){c=b("ServerTime").get();var d=a.message.timestamp;if(c-d<2*60*1e3){b("BanzaiODS").bumpEntityKey("presence","stale_presence_check");c=a.message.sender_fbid;a=b("PresenceStatus").get(c);if(a==b("AvailableListConstants").ACTIVE)return;a=b("LastActiveTimes").get(c)*1e3;if(!a)b("BanzaiODS").bumpEntityKey("presence","no_detailed_presence");else if(d-a>5*60*1e3){c="stale_presence";d=d-a;d<10*60*1e3?c+="600":d<60*60*1e3&&(c+="3600");b("BanzaiODS").bumpEntityKey("presence",c)}}}});e.exports=g}),null);
__d("MercuryParticipantTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({USER:"user",THREAD:"thread",EVENT:"event",PAGE:"page",FRIEND:"friend",FB4C:"fb4c",NON_FRIEND:"non_friend",SERVICE:"service"})}),null);
__d("WorkplaceChatHelper",["ChannelConstants","PresenceStatus","gkx"],(function(a,b,c,d,e,f){"use strict";a={isDesktopChatApp:function(){return window.workchat!==undefined},getAppID:function(){return window.workchat.appId},showWindow:function(){window.workchat.showWindow()},getScreenSharingSourceID:function(){return window.workchat.getScreenSharingSourceID()},stopScreenSharing:function(){return window.workchat.stopScreenSharing()},suppressChatIfActiveOnDesktop:function(){return(b("PresenceStatus").getViewerCapabilities()&b("ChannelConstants").CAPABILITY_ACTIVE_ON_DESKTOP_APP)==b("ChannelConstants").CAPABILITY_ACTIVE_ON_DESKTOP_APP&&b("gkx")("AT4ZMAXkzCcX4p9DjSWk5wvjd_wjBUdDPViibiBIfjvUyD6wX_fK23ETuzkop1uX0uOJihKtSxVg3O_V4WawyBhaw_xvwERDuCKoQu725uXIow")}};e.exports=a}),null);
__d("ChatOpenTab",["csx","Bootloader","ContextualThing","CurrentUser","Event","MercuryIDs","MercuryParticipantTypes","Parent","WorkplaceChatHelper","gkx","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=null;b("requireWeak")("FantaTabsReactApp",function(a){return h=a});b("requireWeak")("FantaTabsSlimApp",function(a){return h=a});function i(a,c,d,e){b("Event").listen(a,"click",function(f){(l.canOpenTab()||b("CurrentUser").isWorkUser()&&b("WorkplaceChatHelper").suppressChatIfActiveOnDesktop()&&b("gkx")("AT7jinnyRPDg4OtD2DVZhvkvAcwN4UEfD67JxgYKN8ktNW7yrzWDgUhjX86ZgaJp_pMk__upuP12-9rZjDRDprZwcbUv5zDffty-rkNZ2YUXjQ"))&&(e(c,d),a.removeAttribute("ajaxify"),a.removeAttribute("rel"),f.preventDefault())})}function j(a,c,d,e){b("Event").listen(a,"click",function(a){l.canOpenTab()&&e(c,d)})}function k(a){a=b("ContextualThing").getContext(a);return a&&b("Parent").bySelector(a,"._3qw")!==null}var l={canOpenTab:function(){return h&&!h.isHidden()},listenOpenEmptyTabDEPRECATED:function(a,b){i(a,null,b,this._loadAndOpenEmptyFantaTab)},listenOpenThreadDEPRECATED:function(a,b,c){i(a,b,c,function(a,b){return this.loadAndOpenFantaTab(a,b,c)}.bind(this))},listenOpenUserTabDEPRECATED:function(a,c,d){k(a)||i(a,c,d,function(a){return this.loadAndOpenFantaTab(a,b("MercuryParticipantTypes").USER,d)}.bind(this))},listenOpenUserTabPersistentEventDEPRECATED:function(a,c,d){k(a)||j(a,c,d,function(a){return this.loadAndOpenFantaTab(a,b("MercuryParticipantTypes").USER,d)}.bind(this))},listenOpenPageTabDEPRECATED:function(a,c,d,e){k(a)||i(a,c,e,function(a){return this.loadAndOpenFantaTab(a,b("MercuryParticipantTypes").PAGE,e)}.bind(this))},listenOpenPageTabPersistentEventDEPRECATED:function(a,c,d,e){k(a)||j(a,c,e,function(a){return this.loadAndOpenFantaTab(a,b("MercuryParticipantTypes").PAGE,e)}.bind(this))},loadAndOpenFantaTab:function(a,c,d){b("Bootloader").loadModules(["ChatOpenTabEventLogger","FantaTabActions"],function(e,f){if(c===b("MercuryParticipantTypes").USER||c===b("MercuryParticipantTypes").PAGE){var g=b("MercuryIDs").getThreadIDFromUserID(a);f.openTab(g,[d]);e.logUserClickOpen(d,a)}else f.openTab(a,[d]),e.logClickOpen(d,a)},"ChatOpenTab")},_loadAndOpenEmptyFantaTab:function(){b("Bootloader").loadModules(["ChatOpenTabEventLogger","FantaTabActions","MessengerState.bs"],function(a,c,d){d=d.createNewLocalThreadGenerateID(b("CurrentUser").getID());c.openNewMessageTab(d,"jewel_new_message");a.logClickOpen("EmptyTab")},"ChatOpenTab")}};e.exports=l}),null);
__d("HelpLiteFlyoutBootloader",["regeneratorRuntime","Deferred","JSResource"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=!1,h=null,i=null,j={loadFlyout:function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:j.loadFlyoutWithHelpType(null);case 1:case"end":return a.stop()}},null,this)},loadFlyoutWithHelpType:function(a){__p&&__p();var c,d,e,f;return b("regeneratorRuntime").async(function(h){__p&&__p();while(1)switch(h.prev=h.next){case 0:h.next=2;return b("regeneratorRuntime").awrap(b("JSResource")("HelpLiteFlyout").__setRef("HelpLiteFlyoutBootloader").load());case 2:c=h.sent;if(!g){h.next=6;break}c.refreshHelp();return h.abrupt("return");case 6:g=!0;a&&j.setHelpType(a);h.next=10;return b("regeneratorRuntime").awrap(this._getDeferredFlyoutElements().getPromise());case 10:d=h.sent,e=d.flyout,f=d.flyoutRoot,c.registerFlyoutToggler(e,f),c.loadBody();case 15:case"end":return h.stop()}},null,this)},setHelpType:function(a){i=a},getHelpType:function(){return i},_getDeferredFlyoutElements:function(){h==null&&(h=new(b("Deferred"))());return h},registerFlyoutElements:function(a,b){this._getDeferredFlyoutElements().resolve({flyout:a,flyoutRoot:b})}};e.exports=j}),null);
__d("RequiredFormListener",["Event","Input"],(function(a,b,c,d,e,f){__p&&__p();b("Event").listen(document.documentElement,"submit",function(a){a=a.getTarget();if(a.getAttribute("novalidate"))return!0;a=a.getElementsByTagName("*");for(var c=0;c<a.length;c++)if(a[c].getAttribute("required")&&b("Input").isEmpty(a[c])){a[c].focus();return!1}},b("Event").Priority.URGENT)}),null);
__d("FantaConst",[],(function(a,b,c,d,e,f){"use strict";var g={DEFAULT_ALLOWED_RAISED_TABS:2,DEFAULT_MESSAGE_COUNT:10,cookieIDs:{PERSONAL_COOKIE_ID:"t3",PERSONAL_FOCUS_COOKIE_ID:"lm3",PERSONAL_TIME_COOKIE_ID:"utc3",WORK_COOKIE_ID:"t3w",WORK_FOCUS_COOKIE_ID:"lm3w",WORK_TIME_COOKIE_ID:"utc3w"},getCookieIDs:function(){return[g.cookieIDs.PERSONAL_COOKIE_ID,g.cookieIDs.PERSONAL_FOCUS_COOKIE_ID,g.cookieIDs.PERSONAL_TIME_COOKIE_ID,g.cookieIDs.WORK_COOKIE_ID,g.cookieIDs.WORK_FOCUS_COOKIE_ID,g.cookieIDs.WORK_TIME_COOKIE_ID]}};e.exports=g}),null);
__d("WebMessengerThreadPermalinks",["MercuryIDs","MessagingTag","MessengerURIConstants","URI","WWWBase","requireWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getThreadURI:function(a,c,d){var e="";b("MercuryIDs").isCanonical(a)?e=b("MercuryIDs").tokenize(a).value:b("requireWeak")("MercuryThreadIDMap",function(b){e=b.get().getServerIDFromClientIDNow(a)});d=g.getThreadURIFromServerID(e||"",d);c&&c(d)},getThreadURIFromServerID:function(a,c){__p&&__p();var d=new(b("URI"))(b("WWWBase").uri),e=b("MessengerURIConstants").FACEBOOK_PREFIX;if(c)switch(c){case b("MessagingTag").OTHER:e+="/filtered";break;case b("MessagingTag").PENDING:e+="/requests";break;case b("MessagingTag").INBOX:break;default:e+="/"+c;break}d.setPath(e+b("MessengerURIConstants").THREAD_PREFIX+a);return d.toString()},getThreadURIFromUserID:function(a,c){var d=new(b("URI"))(b("WWWBase").uri),e=b("MessengerURIConstants").FACEBOOK_PREFIX;d.setPath(h(e,c)+"/t/"+a);return d.toString()}};function h(a,c){c&&c!=b("MessagingTag").INBOX&&(a+="/"+c);return a}e.exports=g}),null);
__d("Dcode",[],(function(a,b,c,d,e,f){__p&&__p();var g,h={},i={_:"%",A:"%2",B:"000",C:"%7d",D:"%7b%22",E:"%2c%22",F:"%22%3a",G:"%2c%22ut%22%3a1",H:"%2c%22bls%22%3a",I:"%2c%22n%22%3a%22%",J:"%22%3a%7b%22i%22%3a0%7d",K:"%2c%22pt%22%3a0%2c%22vis%22%3a",L:"%2c%22ch%22%3a%7b%22h%22%3a%22",M:"%7b%22v%22%3a2%2c%22time%22%3a1",N:".channel%22%2c%22sub%22%3a%5b",O:"%2c%22sb%22%3a1%2c%22t%22%3a%5b",P:"%2c%22ud%22%3a100%2c%22lc%22%3a0",Q:"%5d%2c%22f%22%3anull%2c%22uct%22%3a",R:".channel%22%2c%22sub%22%3a%5b1%5d",S:"%22%2c%22m%22%3a0%7d%2c%7b%22i%22%3a",T:"%2c%22blc%22%3a1%2c%22snd%22%3a1%2c%22ct%22%3a",U:"%2c%22blc%22%3a0%2c%22snd%22%3a1%2c%22ct%22%3a",V:"%2c%22blc%22%3a0%2c%22snd%22%3a0%2c%22ct%22%3a",W:"%2c%22s%22%3a0%2c%22blo%22%3a0%7d%2c%22bl%22%3a%7b%22ac%22%3a",X:"%2c%22ri%22%3a0%7d%2c%22state%22%3a%7b%22p%22%3a0%2c%22ut%22%3a1",Y:"%2c%22pt%22%3a0%2c%22vis%22%3a1%2c%22bls%22%3a0%2c%22blc%22%3a0%2c%22snd%22%3a1%2c%22ct%22%3a",Z:"%2c%22sb%22%3a1%2c%22t%22%3a%5b%5d%2c%22f%22%3anull%2c%22uct%22%3a0%2c%22s%22%3a0%2c%22blo%22%3a0%7d%2c%22bl%22%3a%7b%22ac%22%3a"};(function(){var a=[];for(var b in i)h[i[b]]=b,a.push(i[b]);a.reverse();g=new RegExp(a.join("|"),"g")})();a={encode:function(a){return encodeURIComponent(a).replace(/([_A-Z])|%../g,function(a,b){return b?"%"+b.charCodeAt(0).toString(16):a}).toLowerCase().replace(g,function(a){return h[a]})},decode:function(a){return decodeURIComponent(a.replace(/[_A-Z]/g,function(a){return i[a]}))}};e.exports=a}),null);
__d("PopoverAsyncMenu",["Bootloader","Event","KeyStatus","PopoverMenu","VirtualCursorStatus","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();var g,h={},i=0;c=babelHelpers.inherits(a,b("PopoverMenu"));g=c&&c.prototype;function a(a,c,d,e,f,j){"use strict";g.constructor.call(this,a,c,null,f),this._endpoint=e,this._endpointData=j||{},this._loadingMenu=d,this._instanceId=i++,h[this._instanceId]=this,this._mouseoverListener=b("Event").listen(c,"mouseover",this.fetchMenu.bind(this))}a.prototype._onLayerInit=function(){"use strict";!this._menu&&this._loadingMenu&&this.setMenu(this._loadingMenu),this._popover.getLayer().subscribe("key",this._handleKeyEvent.bind(this)),this._triggerInfo={isKeyDown:b("KeyStatus").isKeyDown(),isVirtualCursorTriggered:b("VirtualCursorStatus").isVirtualCursorTriggered()},b("setImmediate")(function(){return this.fetchMenu()}.bind(this))};a.prototype._onPopoverHide=function(){"use strict";g._onPopoverHide.call(this),this._triggerInfo=null};a.prototype._refetchMenu=function(){"use strict";this._menu&&(this._menu.destroy(),this._fetched=!1,this._mouseoverListener=b("Event").listen(this.getTriggerElem(),"mouseover",this.fetchMenu.bind(this)))};a.prototype.fetchMenu=function(){"use strict";if(this._fetched)return;b("Bootloader").loadModules(["AsyncRequest"],function(a){new a().setURI(this._endpoint).setData(Object.assign({pmid:this._instanceId},this._endpointData)).send()}.bind(this),"PopoverAsyncMenu");this._fetched=!0;this._mouseoverListener&&(this._mouseoverListener.remove(),this._mouseoverListener=null)};a.prototype._setFocus=function(a){"use strict";var b=this._triggerInfo||{},c=b.isKeyDown;b=b.isVirtualCursorTriggered;this.setInitialFocus(a,c||b);this._triggerInfo=null};a.setMenu=function(a,b){"use strict";a=h[a];a.setMenu(b);a._setFocus(b)};a.getInstance=function(a){"use strict";return h[a]};a.getInstanceByTriggerElem=function(a){"use strict";var b=null;Object.keys(h).forEach(function(c){h[c]._triggerElem==a&&(b=h[c])});return b};e.exports=a}),null);
__d("reportData",["Banzai","SessionName","ifRequired"],(function(a,b,c,d,e,f){__p&&__p();var g={retry:!0};function a(a,c){c===void 0&&(c={});c={ft:c.ft||{},gt:c.gt||{}};var d="-",e="r",f=b("ifRequired")("URI",function(a){return a.getRequestURI(!0,!0).getUnqualifiedURI().toString()},function(){return location.pathname+location.search+location.hash});a=[b("SessionName").getName(),Date.now(),"act",Date.now(),0,d,a,d,d,e,f,c,0,0,0,0];b("Banzai").post("eagle_eye_event",a,g)}e.exports=a}),null);
__d("PresenceCookieManager",["Cookie","CurrentUser","Dcode","ErrorUtils","JSLogger","PresenceInitialData","PresenceUtil","WebStorage","WorkModeConfig"],(function(a,b,c,d,e,f){__p&&__p();var g=b("PresenceInitialData").cookieVersion,h="presence",i={},j=null,k=null,l=b("JSLogger").create("presence_cookie");function m(a){var c=b("Cookie").get(h)||"";if(c.length===0)return null;return c[0]!==a?null:c.substring(1)}function n(a,c){b("Cookie").set(h,a+c)}function o(){return!(b("PresenceInitialData").useWebStorage||!1)?null:b("WebStorage").getSessionStorage()}function p(){var a=o();a=a!=null?a.getItem(h):null;return a!=null?a.substring(1):null}function q(a){var b=o();if(b==null)return!1;b.setItem(h,"E"+a);return!0}function r(){var a=p();return a!=null?a:m("E")}function s(a){__p&&__p();a=a.state;if(a==null)return"";var c=m("S")||"",d=b("WorkModeConfig").is_work_user?"w":"f";a=b("WorkModeConfig").is_work_user?a.t3w:a.t3;a=a!=null?a.length>0:!1;var e=c.indexOf(d)!==-1;e&&!a&&(c=c.replace(d,""));!e&&a&&(c+=d);return c}function t(a,b){var c=q(a);c?n("S",b):(a.length>1024&&l.warn("big_cookie",a.length),n("E",a))}function u(){__p&&__p();try{var a=r();j!==a&&(j=a,k=null,a&&(a=b("Dcode").decode(a),k=JSON.parse(a)));if(k){if(k.user&&k.user!==b("CurrentUser").getID())return null;return k.v!==g?null:k}}catch(a){l.warn("getcookie_error",a)}return null}function v(){return parseInt(Date.now()/1e3,10)}a={register:function(a,b){i[a]=b},store:function(){__p&&__p();var a=u();if(a&&a.v&&g<a.v){l.debug("stale_cookie",g);return}var c={v:g,time:v(),user:b("CurrentUser").getID()};for(var d in i)c[d]=b("ErrorUtils").applyWithGuard(i[d],i,[a&&a[d]],function(a){a.presence_subcookie=d});a=b("Dcode").encode(JSON.stringify(c));b("PresenceUtil").hasUserCookie()&&t(a,s(c))},clear:function(){b("Cookie").clear(h);var a=b("WebStorage").getSessionStorage();a!=null&&a.removeItem(h)},getSubCookie:function(a){var b=u();return!b?null:b[a]}};e.exports=a}),null);
__d("PresenceState",["Arbiter","ErrorUtils","FantaConst","JSLogger","PresenceCookieManager","PresenceInitialData","debounceAcrossTransitions","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PresenceInitialData").cookiePollInterval||2e3,h=b("PresenceInitialData").shouldSuppress||!1,i=[],j=[],k=null,l=null,m=0,n=null,o=0,p=["sb2","tr","tw","at","wml"].concat(b("FantaConst").getCookieIDs()),q=b("JSLogger").create("presence_state");function r(){return b("PresenceCookieManager").getSubCookie("state")}function s(){m=Date.now(),b("PresenceCookieManager").store(),w(l)}var t=b("debounceAcrossTransitions")(s,0);function u(a){(a==undefined||isNaN(a)||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)&&(a=0);return a}function v(a){var c={};a&&(p.forEach(function(b){a&&a[b]&&(c[b]=a[b])}),m<a.ut&&q.error("new_cookie",{cookie_time:a.ut,local_time:m}));c.ut=m;for(var d=0,e=i.length;d<e;d++)b("ErrorUtils").applyWithGuard(i[d],null,[c]);l=c;return l}function w(a){o++;m=u(a&&a.ut);k||(k=b("setIntervalAcrossTransitions")(z,g));l=a;n===null&&(n=a);for(var c=0,d=j.length;c<d;c++)b("ErrorUtils").applyWithGuard(j[c],null,[a]);o--}function x(a){if(a&&a.ut)if(m<a.ut)return!0;else a.ut<m&&q.error("old_cookie",{cookie_time:a.ut,local_time:m});return!1}function y(){var a=r();x(a)&&(l=a);return l}function z(){var a=r();x(a)&&w(a)}b("PresenceCookieManager").register("state",v);b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,b){b.presence_state={initial:babelHelpers["extends"]({},n),state:babelHelpers["extends"]({},l),update_time:m,sync_paused:o,poll_time:g}});(function(){var a=y();if(a)w(a);else{q.debug("no_cookie_initial");w(v());return}})();a={doSync:function(a){if(o)return;a?s():t()},registerStateStorer:function(a){i.push(a)},registerStateLoader:function(a){j.push(a)},get:function(){return y()},getInitial:function(){return n},shouldSuppress:function(){return h},verifyNumber:u};e.exports=a}),null);
__d("PopoverLoadingMenu",["cx","BehaviorsMixin","DOM","PopoverMenuInterface","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("PopoverMenuInterface"));h=c&&c.prototype;function a(a){"use strict";h.constructor.call(this),this._config=a||{},this._theme=a.theme||{}}a.prototype.getRoot=function(){"use strict";this._root||(this._root=b("DOM").create("div",{className:b("joinClasses")("_54nq",this._config.className,this._theme.className)},b("DOM").create("div",{className:"_54ng"},b("DOM").create("div",{className:"_54nf _54af"},b("DOM").create("span",{className:"_54ag"})))),this._config.behaviors&&this.enableBehaviors(this._config.behaviors));return this._root};Object.assign(a.prototype,b("BehaviorsMixin"),{_root:null});e.exports=a}),null);
__d("StrSet",[],(function(a,b,c,d,e,f){__p&&__p();function g(a){"use strict";this.$2={},this.$1=0,a&&this.addAll(a)}g.prototype.add=function(a){"use strict";Object.prototype.hasOwnProperty.call(this.$2,a)||(this.$2[a]=!0,this.$1++);return this};g.prototype.addAll=function(a){"use strict";a.forEach(this.add,this);return this};g.prototype.remove=function(a){"use strict";Object.prototype.hasOwnProperty.call(this.$2,a)&&(delete this.$2[a],this.$1--);return this};g.prototype.removeAll=function(a){"use strict";a.forEach(this.remove,this);return this};g.prototype.toArray=function(){"use strict";return Object.keys(this.$2)};g.prototype.toMap=function(a){"use strict";var b={};Object.keys(this.$2).forEach(function(c){b[c]=typeof a==="function"?a(c):a||!0});return b};g.prototype.contains=function(a){"use strict";return Object.prototype.hasOwnProperty.call(this.$2,a)};g.prototype.count=function(){"use strict";return this.$1};g.prototype.clear=function(){"use strict";this.$2={};this.$1=0;return this};g.prototype.clone=function(){"use strict";return new g(this)};g.prototype.forEach=function(a,b){"use strict";Object.keys(this.$2).forEach(a,b)};g.prototype.map=function(a,b){"use strict";return Object.keys(this.$2).map(a,b)};g.prototype.some=function(a,b){"use strict";return Object.keys(this.$2).some(a,b)};g.prototype.every=function(a,b){"use strict";return Object.keys(this.$2).every(a,b)};g.prototype.filter=function(a,b){"use strict";return new g(Object.keys(this.$2).filter(a,b))};g.prototype.union=function(a){"use strict";return this.clone().addAll(a)};g.prototype.intersect=function(a){"use strict";return this.filter(function(b){return a.contains(b)})};g.prototype.difference=function(a){"use strict";return a.filter(function(a){return!this.contains(a)}.bind(this))};g.prototype.equals=function(a){"use strict";__p&&__p();var b=function(a,b){return a===b?0:a<b?-1:1},c=this.toArray();a=a.toArray();if(c.length!==a.length)return!1;var d=c.length;c=c.sort(b);a=a.sort(b);while(d--)if(c[d]!==a[d])return!1;return!0};e.exports=g}),null);
__d("htmlSpecialChars",[],(function(a,b,c,d,e,f){__p&&__p();var g=/&/g,h=/</g,i=/>/g,j=/\"/g,k=/\'/g;function a(a){if(typeof a==="undefined"||a===null||!a.toString)return"";if(a===!1)return"0";else if(a===!0)return"1";return a.toString().replace(g,"&amp;").replace(j,"&quot;").replace(k,"&#039;").replace(h,"&lt;").replace(i,"&gt;")}e.exports=a}),null);
__d("flatMapArray",[],(function(a,b,c,d,e,f){__p&&__p();var g=Array.prototype.push;function a(a,b){var c=[];for(var d=0;d<a.length;d++){var e=b.call(a,a[d],d);if(Array.isArray(e))g.apply(c,e);else if(e!=null)throw new TypeError('flatMapArray: Callback must return an array or null, received "'+e.toString()+'" instead')}return c}e.exports=a}),null);
__d("AdsInterfacesNavTools",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACCOUNT_SETTINGS:"ACCOUNT_SETTINGS",ACCOUNT_SETTINGS_OLD:"ACCOUNT_SETTINGS_OLD",AD_BREAKS:"AD_BREAKS",ANALYTICS:"ANALYTICS",APP_ADS_HELPER:"APP_ADS_HELPER",APP_DASHBOARD:"APP_DASHBOARD",APP_EVENTS:"APP_EVENTS",AUDIENCE_INSIGHTS:"AUDIENCE_INSIGHTS",AUDIENCES:"AUDIENCES",BILLING:"BILLING",BIZ_BILLING:"BIZ_BILLING",BLOCK_LIST:"BLOCK_LIST",BLOCK_LIST_V2:"BLOCK_LIST_V2",BRANDED_CONTENT:"BRANDED_CONTENT",BUSINESS_ASSET_LIBRARY:"BUSINESS_ASSET_LIBRARY",BUSINESS_HOME:"BUSINESS_HOME",BUSINESS_LOCATIONS:"BUSINESS_LOCATIONS",BUSINESS_PAYMENTS:"BUSINESS_PAYMENTS",BUSINESS_PRODUCT_CATALOGS:"BUSINESS_PRODUCT_CATALOGS",BUSINESS_SETTINGS:"BUSINESS_SETTINGS",BUSINESS_VIDEO:"BUSINESS_VIDEO",CONTRACTS:"CONTRACTS",CONVERSION_TRACKING:"CONVERSION_TRACKING",CANVAS_BUILDER:"CANVAS_BUILDER",CREATION:"CREATION",CREATIVE_STUDIO:"CREATIVE_STUDIO",CROSS_PUBLISHER_BUYING:"CROSS_PUBLISHER_BUYING",CUSTOM_CONVERSIONS:"CUSTOM_CONVERSIONS",DATA_SETS:"DATA_SETS",DELIVERY_INSIGHTS:"DELIVERY_INSIGHTS",DEVELOPER_SUPPORT_HOME:"DEVELOPER_SUPPORT_HOME",EASY_DA:"EASY_DA",EVENTS_MANAGER:"EVENTS_MANAGER",IMAGES:"IMAGES",INVOICES:"INVOICES",LEAD_MANAGER:"LEAD_MANAGER",LIFT_STUDIES:"LIFT_STUDIES",PULL_MMM:"PULL_MMM",LOCAL_INSIGHTS:"LOCAL_INSIGHTS",MANAGE_ADS:"MANAGE_ADS",MANAGE_ADS_CM:"MANAGE_ADS_CM",MARKETING_SOLUTION_PROVIDER:"MARKETING_SOLUTION_PROVIDER",MEASUREMENT_HUB:"MEASUREMENT_HUB",NOTIFICATIONS:"NOTIFICATIONS",OFFLINE_EVENTS:"OFFLINE_EVENTS",PAGES:"PAGES",PARTNER_INTEGRATIONS:"PARTNER_INTEGRATIONS",PARTNER_PLATFORM:"PARTNER_PLATFORM",PERSONALIZED_RECOMMENDATIONS:"PERSONALIZED_RECOMMENDATIONS",PAYOUT_ACCOUNT_SETTINGS:"PAYOUT_ACCOUNT_SETTINGS",PIXELS:"PIXELS",PLANNER_TOOL:"PLANNER_TOOL",PUB_X:"PUB_X",REPORTING:"REPORTING",RULES:"RULES",SCRIPTS:"SCRIPTS",SELF_SERVE_CONVERSION_LIFT:"SELF_SERVE_CONVERSION_LIFT",SETTINGS:"SETTINGS",STORE_VISIT_INSIGHTS:"STORE_VISIT_INSIGHTS",TARGETING_INSIGHTS:"TARGETING_INSIGHTS",UNDEFINED:"UNDEFINED",WHATSAPP_MESSAGING:"WHATSAPP_MESSAGING"})}),null);
__d("LeadGenInfoFieldTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CUSTOM:"CUSTOM",CITY:"CITY",COMPANY_NAME:"COMPANY_NAME",COUNTRY:"COUNTRY",DOB:"DOB",EMAIL:"EMAIL",GENDER:"GENDER",FIRST_NAME:"FIRST_NAME",FULL_NAME:"FULL_NAME",JOB_TITLE:"JOB_TITLE",LAST_NAME:"LAST_NAME",MARITIAL_STATUS:"MARITIAL_STATUS",PHONE:"PHONE",POST_CODE:"POST_CODE",PROVINCE:"PROVINCE",RELATIONSHIP_STATUS:"RELATIONSHIP_STATUS",STATE:"STATE",STREET_ADDRESS:"STREET_ADDRESS",ZIP:"ZIP",WORK_EMAIL:"WORK_EMAIL",MILITARY_STATUS:"MILITARY_STATUS",WORK_PHONE_NUMBER:"WORK_PHONE_NUMBER",MESSENGER:"MESSENGER",STORE_LOOKUP:"STORE_LOOKUP",STORE_LOOKUP_WITH_TYPEAHEAD:"STORE_LOOKUP_WITH_TYPEAHEAD",DATE_TIME:"DATE_TIME",ID_CPF:"ID_CPF",ID_AR_DNI:"ID_AR_DNI",ID_CL_RUT:"ID_CL_RUT",ID_CO_CC:"ID_CO_CC",ID_EC_CI:"ID_EC_CI",ID_PE_DNI:"ID_PE_DNI"})}),null);
__d("Log",["sprintf"],(function(a,b,c,d,e,f){c={DEBUG:3,INFO:2,WARNING:1,ERROR:0};function a(a,c){var d=Array.prototype.slice.call(arguments,2),e=b("sprintf").apply(null,d),f=window.console;f&&g.level>=c&&f[a in f?a:"log"](e)}var g={level:-1,Level:c,debug:a.bind(null,"debug",c.DEBUG),info:a.bind(null,"info",c.INFO),warn:a.bind(null,"warn",c.WARNING),error:a.bind(null,"error",c.ERROR),log:a};e.exports=g}),null);
__d("Queue",[],(function(a,b,c,d,e,f){__p&&__p();var g={};function h(a){"use strict";this._opts=babelHelpers["extends"]({interval:0,processor:null},a),this._queue=[],this._stopped=!0}h.prototype._dispatch=function(a){"use strict";__p&&__p();if(this._stopped||this._queue.length===0)return;if(!this._opts.processor){this._stopped=!0;throw new Error("No processor available")}if(this._opts.interval)this._opts.processor.call(this,this._queue.shift()),this._timeout=setTimeout(this._dispatch.bind(this),this._opts.interval);else while(this._queue.length)this._opts.processor.call(this,this._queue.shift())};h.prototype.enqueue=function(a){"use strict";this._opts.processor&&!this._stopped?this._opts.processor.call(this,a):this._queue.push(a);return this};h.prototype.start=function(a){"use strict";a&&(this._opts.processor=a);this._stopped=!1;this._dispatch();return this};h.prototype.isStarted=function(){"use strict";return!this._stopped};h.prototype.dispatch=function(){"use strict";this._dispatch(!0)};h.prototype.stop=function(a){"use strict";this._stopped=!0;a&&clearTimeout(this._timeout);return this};h.prototype.merge=function(a,b){"use strict";this._queue[b?"unshift":"push"].apply(this._queue,a._queue);a._queue=[];this._dispatch();return this};h.prototype.getLength=function(){"use strict";return this._queue.length};h.get=function(a,b){"use strict";var c;a in g?c=g[a]:c=g[a]=new h(b);return c};h.exists=function(a){"use strict";return a in g};h.remove=function(a){"use strict";return delete g[a]};e.exports=h}),null);