if (self.CavalryLogger) { CavalryLogger.start_js(["Qw8IF"]); }

__d("UFILiveVideoAutoscrollHandler",["DOM","UFIConstants","UFINewCommentsPillUtils","UFIUnseenCommentsStore","getOrCreateDOMID","queryThenMutateDOM"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.prototype.$2=function(a){a=b("DOM").scry(a,".UFIComment");a=a.length>0?a[a.length-1]:null;var c=a?b("getOrCreateDOMID")(a):null;if(c===null||c===this.$1)return null;this.$1=c;return a};a.prototype.manageScroll=function(a,c,d,e){var f,g,h,i=0;b("queryThenMutateDOM")(function(){f=a.scrollHeight;g=a.offsetHeight;h=a.scrollTop;var b=this.$2(a);b&&(i=b.offsetHeight)}.bind(this),function(){var j=b("UFIUnseenCommentsStore").getCommentReactionsMenuShown(c.instanceid),k=f-g-h-i;d||k<b("UFIConstants").maxScrollDistanceForAutoScroll&&!j?(a.scrollTop=f-g,e&&e()):i>0&&b("UFINewCommentsPillUtils").updateScrolledUp(a,c)})};function a(){}e.exports=a}),null);