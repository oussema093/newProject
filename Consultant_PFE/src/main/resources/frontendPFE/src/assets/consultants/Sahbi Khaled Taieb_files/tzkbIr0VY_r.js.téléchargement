if (self.CavalryLogger) { CavalryLogger.start_js(["VnOLk"]); }

__d("AdBlockerDetectorLogging",["AdblockerDetectionRetryConfig","AdDelayedHiddenCheckConfiguration","Banzai","ErrorUtils","Run","getElementPosition"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="swank",h=0,i=2,j=4,k=6,l=7,m=8;a={doAdBlockCheck:function(a,c){b("Run").onAfterLoad(function(){b("ErrorUtils").applyWithGuard(function(){this._doAdBlockImgCheck(a,c.token||c,0,0)}.bind(this),this)}.bind(this))},doOrganicBlockCheck:function(a,c){b("Run").onAfterLoad(function(){b("ErrorUtils").applyWithGuard(function(){this._doOrganicBlockImgCheck(a,c.token||c,0,0)}.bind(this),this)}.bind(this))},_doAdBlockImgCheck:function(a,b,c,d){this._doStoryBlockImgCheck(a,b,!1,c,d)},_doOrganicBlockImgCheck:function(a,b,c,d){this._doStoryBlockImgCheck(a,b,!0,c,d)},_doStoryBlockImgCheck:function(a,c,d,e,f){__p&&__p();if(!c||!a)return;var n=!d,o=a.querySelectorAll("img");if(o.length>0){var p=!1,q=0;for(var r=0;r<o.length;r++){var s=o[r],t=b("getElementPosition")(s);(t.width>0||t.height>0)&&(window.getComputedStyle(s).visibility==="hidden"&&q++,p=!0)}if(!p||q>0){t=a;s=0;while(t!==null){if(s++>50)break;if(t){if(t.classList.contains("hidden_elem")||t.classList.contains("holdoutAdStory")||t.classList.contains("ego_ads_holdout"))return;t=t.parentElement}}if(f>0){n&&b("AdDelayedHiddenCheckConfiguration").setEnabled(!0);r=f*this._getStoryBlockDetectionRetryInterval(n);b("Banzai").post("xtrackable:"+g,{token:c,event_code:n?j:m,hidden_delay:r})}else q>0?b("Banzai").post("xtrackable:"+g,{token:c,event_code:n?i:l}):p||(n&&b("AdDelayedHiddenCheckConfiguration").setEnabled(!0),b("Banzai").post("xtrackable:"+g,{token:c,event_code:n?h:k}));return}}else if(o.length===0&&c!=null&&c.startsWith("7.")){++e<5&&setTimeout(function(){this._doStoryBlockImgCheck(a,c,d,e,0)}.bind(this),2500);return}++f<this._getStoryBlockDetectionRetryCount(n)&&setTimeout(function(){this._doStoryBlockImgCheck(a,c,d,e,f)}.bind(this),this._getStoryBlockDetectionRetryInterval(n))},_getStoryBlockDetectionRetryCount:function(a){return a?b("AdblockerDetectionRetryConfig").retry_count:b("AdblockerDetectionRetryConfig").organic_retry_count},_getStoryBlockDetectionRetryInterval:function(a){return a?b("AdblockerDetectionRetryConfig").retry_interval:b("AdblockerDetectionRetryConfig").organic_retry_interval}};e.exports=a}),null);