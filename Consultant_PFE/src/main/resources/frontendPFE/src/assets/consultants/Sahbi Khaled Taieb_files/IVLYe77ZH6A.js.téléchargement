if (self.CavalryLogger) { CavalryLogger.start_js(["kZiXb"]); }

__d("VideoChannelCallerToPlayerOriginMap",[],(function(a,b,c,d,e,f){e.exports={internal:"unknown",www_feed_pivots:"newsfeed",www_feed_snowlift:"unknown",misc_photo_set:"unknown",mobile:"unknown",search:"search",www_feed_rhc:"newsfeed",www_notification:"notifications",www_permalink:"permalink",www_permalink_rhc:"permalink",www_permalink_rhc_from_notification:"notifications",my_video_channels_ent_query:"unknown",top_followed_video_channels_ent_query:"unknown",badge:"unknown",pagination:"unknown",subtitle:"unknown",channel_view_from_unknown:"unknown",channel_view_from_newsfeed:"newsfeed",channel_view_from_explorefeed:"unknown",live_indexer_from_explorefeed:"unknown",live_indexer_from_newsfeed:"unknown",nn_indexer_from_newsfeed:"unknown",channel_view_from_search:"unknown",channel_view_from_newsfeed_pivot:"unknown",newsfeed_pivot_inline:"unknown",mobile_newsfeed_pivot_inline:"unknown",channel_view_from_page_call_to_action:"unknown",channel_view_from_page_timeline:"page_timeline",channel_view_from_page_timeline_featured:"unknown",channel_view_from_page_video_tab:"page_timeline",channel_view_from_page_home_hero:"unknown",channel_view_from_user_timeline:"user_timeline",channel_view_from_user_video_tab:"unknown",channel_view_from_group_timeline:"group",channel_view_from_group_video_tab:"unknown",channel_view_from_video_page_spotlight:"unknown",channel_view_from_video_page_video_list:"unknown",channel_view_from_video_page_video_tab:"unknown",channel_view_from_saved_story:"unknown",saved_story_inline:"unknown",channel_view_from_shared_with_you_story:"unknown",shared_with_you_story_inline:"unknown",channel_view_from_latest_from_your_channels_story:"unknown",latest_from_your_channels_story_inline:"unknown",channel_view_from_channel_pivot:"unknown",channel_pivot_inine:"unknown",channel_view_from_recommended_channel_story:"unknown",recommended_channel_story_inline:"unknown",channel_view_from_video_home:"video_home",video_home_inline:"unknown",video_home_channel_see_all:"unknown",social_player_up_next:"unknown",channel_view_from_casting:"unknown",connected_tv:"unknown",connected_tv_discovery:"unknown",connected_tv_player:"unknown",connected_tv_profile:"unknown",video_home_feed:"unknown",video_home_hero:"unknown",feed_survey_swipe:"unknown",feed_pivots_inline:"newsfeed",channel_view_from_feed_pivots:"newsfeed",video_sets_cache_refresh:"unknown",video_sets_cache_check:"unknown",dummy_story_recommended_videos:"unknown",dummy_story_friends_enjoying:"unknown",live_event_video_set:"unknown",live_videos_set:"unknown",single_creator_video_set:"unknown",frt_tool:"unknown",dummy_story_friends_enjoying_now:"unknown",dummy_story_dummy_action:"unknown",oculus_video:"unknown",trending_demographics_live:"unknown",live_map:"live_map",unconnected_live_video:"unknown",profile_video_gallery:"unknown",channel_view_from_playlist:"unknown",oculus_social_hub:"unknown",akira:"unknown",is_live_video_chaining:"unknown",is_live_video_chaining_others:"unknown",video_creator_chaining:"unknown",tahoe:"unknown",living_room:"unknown",shows_cover_trailer:"page_timeline",shows_episodes_tab:"page_timeline",shows_playlists_tab:"page_timeline",shows_home_tab:"page_timeline",shows_more_videos_tab:"page_timeline",show_episode_feed_recommendations:"unknown",parent_page_timeline:"page_timeline",watch_watchlist_tab:"unknown",watch_feed_tab:"unknown",watch_topic_feed:"unknown",watch_section_see_all:"unknown",social_player_from_video_home:"unknown",wns:"unknown",explore_feed_deep_dive:"unknown"}}),null);
__d("VideoPlaybackProgressTracker",[],(function(a,b,c,d,e,f){"use strict";a={onPercentageWatched:function(a,b,c){a.addListener("updateStatus",function(event){var d=a.getPlaybackDuration();d=d&&event.position/d*100;d>b&&(a.removeCurrentListener(),c())})}};e.exports=a}),null);
__d("prevNextControlActions",["prevNextControlActionTypes"],(function(a,b,c,d,e,f){"use strict";a={addID:function(a){return{type:b("prevNextControlActionTypes").ADD_ID,payload:a}},popID:function(){return{type:b("prevNextControlActionTypes").POP_ID}}};e.exports=a}),null);
__d("TahoeActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({SET_MC:null,EXIT:null});e.exports=a}),null);
__d("TahoeActions",["TahoeActionTypes","TahoeDispatcher"],(function(a,b,c,d,e,f){"use strict";a={setMediaController:function(a){b("TahoeDispatcher").dispatch({type:b("TahoeActionTypes").SET_MC,mediaController:a})},exit:function(){b("TahoeDispatcher").dispatch({type:b("TahoeActionTypes").EXIT})}};e.exports=a}),null);
__d("TahoeConstants",["CurrentUser"],(function(a,b,c,d,e,f){"use strict";a={MIN_PLAYER_WIDTH:640,MIN_PLAYER_HEIGHT:360,MAX_PLAYER_HEIGHT:1e3,MIN_BOTTOM_PANE_HEIGHT:160,SIDE_PANE_WIDTH:400,BLUE_BAR_HEIGHT:b("CurrentUser").isLoggedIn()?49:0,DEFAULT_BROWSER_TITLE:"Facebook"};e.exports=a}),null);
__d("TahoeVideoResizingController",["TahoeConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("TahoeConstants").MIN_BOTTOM_PANE_HEIGHT,h=b("TahoeConstants").MIN_PLAYER_WIDTH,i=b("TahoeConstants").MIN_PLAYER_HEIGHT,j=b("TahoeConstants").BLUE_BAR_HEIGHT,k=b("TahoeConstants").SIDE_PANE_WIDTH;a={getPlayerSize:function(a,b){a=a-k;b=b-g-j;a=Math.max(a,h);b=Math.max(b,i);return{width:a,height:b}}};e.exports=a}),null);
__d("TahoeVideoStore",["FluxMapStore","TahoeActionTypes","TahoeDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxMapStore"));g&&g.prototype;a.prototype.reduce=function(a,c){switch(c.type){case b("TahoeActionTypes").SET_MC:a=a.set("mediaController",c.mediaController);break;case b("TahoeActionTypes").EXIT:a=b("immutable").Map();break;default:break}return a};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("TahoeDispatcher"))}),null);
__d("TahoeFollowButtonNUX.react",["fbt","LayerFadeOnHide","LayerFadeOnShow","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={shown:!0},b}a.prototype.hide=function(){this.setState({shown:!1})};a.prototype.render=function(){return b("React").createElement(b("XUIAmbientNUX.react"),{context:this.props.context,shown:this.state.shown,position:"below",onCloseButtonClick:function(){return this.setState({shown:!1})}.bind(this),alignment:"right",behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerFadeOnShow:b("LayerFadeOnShow")}},g._("Abonnez-vous pour voir les nouveaux \u00e9pisodes dans Vos vid\u00e9os"))};e.exports=a}),null);
__d("TahoeMainPlayerViewportTracking",["csx","StreamViewportTracking","ViewportTracking"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=25;h=babelHelpers.inherits(k,b("StreamViewportTracking"));i=h&&h.prototype;k.prototype.getTimetrackingDataToLog=function(a){a=i.getTimetrackingDataToLog.call(this,a);a.ft.src=j;return a};function k(){h.apply(this,arguments)}e.exports={setup:function(a,c,d){c=new k(b("StreamViewportTracking").getBehavior(a,c,"._5-yb",d));c.init(a);return c}}}),null);
__d("TahoeUpNextUnitPlaceholder.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(){return b("React").createElement("div",null,b("React").createElement("div",{className:"_27do"}),b("React").createElement("div",{className:"_27dr"}),b("React").createElement("div",{className:"_27em"}),b("React").createElement("div",{className:"_27en"}))}e.exports=a}),null);
__d("TahoeSidePanePlaceholder.react",["cx","Layout.react","React","TahoeUpNextUnitPlaceholder.react","TahoeV2Config"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("Layout.react").Column,j=b("Layout.react").FillColumn;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("TahoeV2Config").showTahoe2UI?b("React").createElement("div",{className:"_wxj _6j4x"},b("React").createElement("div",{className:"_6j4y"},b("React").createElement("div",{className:"_6j4z _6j4-"}),b("React").createElement("div",{className:"_6j4z _6j4_"}),b("React").createElement("div",{className:"_6j4z _6j50"}),b("React").createElement("div",{className:"_6j4z _6j54"}),b("React").createElement("div",{className:"_6j55"},b("React").createElement(b("Layout.react"),null,b("React").createElement(i,{className:"_3-90"},b("React").createElement("div",{className:"_6j56"})),b("React").createElement(j,null,b("React").createElement("div",{className:"_6j57"})))))):b("React").createElement("div",{className:"_wxj _1-z7"},b("React").createElement("div",{className:"_1kna"}),b("React").createElement("div",{className:"_1knc"}),b("React").createElement("div",{className:"_1knd"}),b("React").createElement("div",{className:"_1kne"}),b("React").createElement("div",{className:"_1knf"}),b("React").createElement("div",{className:"_1kng"}),b("React").createElement(b("TahoeUpNextUnitPlaceholder.react"),null))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("TahoeGridViewEndScreenItem.react",["cx","fbt","Image.react","LineClamp.react","Link.react","React","TahoeLoggerEvent","UFIReactionsBlingTokens.react","URI","VideoDuration.react","XUIText.react","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=3,k=16/9;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=this.props,c=a.permalink,d=a.thumbURI,e=a.imageWidth,f=a.title,g=a.viewCount,i=a.feedback,l=a.duration,m=a.isLive,n=a.isSpherical;a=a.itemsCount;var o=i&&i.reactioncount;o=o&&o>0;return b("React").createElement("div",{className:"_1iwg"+(a===4?" _64h7":"")+(a===9?" _64h8":"")},b("React").createElement(b("Link.react"),{href:new(b("URI"))(c),onClick:function(){return this.props.logEvent(b("TahoeLoggerEvent").GRID_VIEW_END_SCREEN_CLICK_VIDEO)}.bind(this)},b("React").createElement("div",{className:"_1iwh"},e>0?b("React").createElement(b("Image.react"),{src:d,height:e/k,width:e}):b("React").createElement(b("Image.react"),{src:d,className:"_1iwi"}),b("React").createElement("div",{className:"_1iwj"},f?b("React").createElement("div",{className:"_64dj"},b("React").createElement(b("LineClamp.react"),{lines:2,fitHeightToShorterText:!0},b("React").createElement(b("XUIText.react"),{size:"header4",weight:"bold"},f))):null,b("React").createElement("div",{className:"_64dn"},g>0?b("React").createElement(b("XUIText.react"),{size:"meta1",className:"_64dj _31wk"},h._({"*":"{number} vues","_1":"1 vue"},[h._plural(g,"number",b("intlSummarizeNumber")(g))])):null,o&&i?b("React").createElement("div",{className:"_4ar- _64do _64dj"},b("React").createElement(b("UFIReactionsBlingTokens.react"),{feedback:i,max:j,size:"16",noLinks:!0},b("React").createElement("div",null,i.reactioncountreduced))):null,b("React").createElement("div",{className:"_2exg"},b("React").createElement(b("VideoDuration.react"),{duration:l,isLive:m,isSpherical:n})))))))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("TahoeGridViewEndScreen.react",["cx","fbt","CenteredContainer.react","Image.react","React","ReactDOM","ResizeListener","TahoeGridViewEndScreenItem.react","TahoeLoggerEvent"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=616,k=450,l=.6,m=16/9,n=44,o=98,p=8;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=null,this.$2=null,this.state={gridItemsCount:0,itemWidth:0,rootHorizPadding:n},b}a.prototype.componentDidMount=function(){this.$2=b("ResizeListener").add(function(){return this.$3()}.bind(this)),this.$3(),this.props.logEvent(b("TahoeLoggerEvent").GRID_VIEW_END_SCREEN_SHOWN)};a.prototype.componentWillUnmount=function(){this.$2&&this.$2.remove()};a.prototype.render=function(){var a=this.props.videosData;return a.length===0?this.$4():b("React").createElement(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!0,vertical:!0,ref:function(a){this.$1=a}.bind(this),style:{padding:"0 "+this.state.rootHorizPadding/2+"px"}},a?b("React").createElement("div",{className:"_1vgj"},b("React").createElement("div",{className:"_2oqk _2pip"},h._("Plus de vid\u00e9os que vous pourriez aimer")),a.slice(0,this.state.gridItemsCount).map(function(a){return this.$5(a)}.bind(this))):null)};a.prototype.$4=function(){return b("React").createElement(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!0,vertical:!0},b("React").createElement("div",{className:"_2gqa"},b("React").createElement(b("Image.react"),{onClick:this.props.onReplay,src:"/images/video/channel_view/replay.svg"})))};a.prototype.$3=function(){__p&&__p();var a=this.$1&&b("ReactDOM").findDOMNode(this.$1);if(!a||!a instanceof Element)return;var c=this.props.videosData.length;if(c===0)return;var d=a.clientWidth;a=a.clientHeight;c=this.$6(c,d,a);d=this.$7(c,d,a);this.setState({gridItemsCount:c,itemWidth:d})};a.prototype.$6=function(a,b,c){return b>=j&&c>=k&&a>=9?9:a>=4?4:1};a.prototype.$7=function(a,b,c){__p&&__p();if(a===1)return b*l;var d=b-n;c=c-o;a=Math.sqrt(a);d=Math.min(d/a,c/a*m);c=b-d*a;this.setState({rootHorizPadding:c});d-=p;return isNaN(d)?0:d};a.prototype.$5=function(a){var c=a.id,d=a.permalink,e=a.thumbURI;return!c||!d||!e?null:b("React").createElement(b("TahoeGridViewEndScreenItem.react"),babelHelpers["extends"]({},a,{key:c,imageWidth:this.state.itemWidth,itemsCount:this.state.gridItemsCount,logEvent:this.props.logEvent}))};e.exports=a}),null);
__d("TahoeEndScreenProgressCircle.react",["cx","React","ReactDOM","Style"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=null,this.$2=0,this.$3=0,b}a.prototype.componentDidMount=function(){"use strict";this.$3=this.$2,this.drawProgressCircle(this.props)};a.prototype.componentWillUnmount=function(){"use strict";clearInterval(this.$1)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";(a.makeProgress!==this.props.makeProgress||a.timeoutSec!==this.props.timeoutSec)&&this.drawProgressCircle(a)};a.prototype.drawProgressCircle=function(a){"use strict";__p&&__p();clearInterval(this.$1);var c=b("ReactDOM").findDOMNode(this.refs.progressCircle);if(!c)return;if(a.timeoutSec===0){b("Style").set(c,"stroke-dashoffset",this.$2+"px");return}var d=this.$2/100;b("Style").set(c,"stroke-dashoffset",this.$3+"px");a.makeProgress&&(this.$1=setInterval(function(){this.$3-=d,b("Style").set(c,"stroke-dashoffset",this.$3+"px"),this.$3<=0&&(clearInterval(this.$1),b("Style").set(c,"stroke-dashoffset","0px"),a.onProgressDone&&a.onProgressDone())}.bind(this),a.timeoutSec*10))};a.prototype.render=function(){"use strict";var a=this.props.circleDiameter,c=4,d=a/2,e=d-c/2;this.$2=e*2*Math.PI;return b("React").createElement("div",null,b("React").createElement("svg",{className:"_4bcw",style:{height:a,width:a}},b("React").createElement("circle",{cx:d,cy:d,r:d,fill:"rgba(0, 0, 0, 0.3)"}),b("React").createElement("circle",{ref:"progressCircle",cx:d,cy:d,r:e,fill:"transparent",stroke:"#ffffff",strokeWidth:c,strokeDasharray:this.$2})),this.props.children)};a.propTypes={children:c.element,makeProgress:c.bool.isRequired,onProgressDone:c.func,timeoutSec:c.number.isRequired};a.defaultProps={circleDiameter:48};e.exports=a}),null);
__d("TahoeLivingRoomPill.react",["ix","cx","fbt","Image.react","React","Text.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_4s4e _6jsd"},b("React").createElement(b("Image.react"),{className:"_4s4f",src:g("487848")}),b("React").createElement(b("Text.react"),{className:"_4s4g"},i._("S\u00e9ance vid\u00e9o")))};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("TahoeUpNextOverlay.react",["cx","fbt","ix","Badge.react","CenteredContainer.react","Image.react","Layout.react","LineClamp.react","Link.react","React","Tahoe","TahoeEndScreenProgressCircle.react","TahoeLivingRoomPill.react","TahoeLoggerEvent","URI","VideoDuration.react","VideoPlayerReason","XUIGrayText.react","XUIText.react","asset","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("Layout.react").Column,l=b("Layout.react").FillColumn,m=145,n=257,o=52;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={shown:!0},b}a.prototype.render=function(){var a=this.props,c=a.ownerName,d=a.thumbURI,e=a.title,f=a.viewCount,g=a.duration,j=a.isLive,p=a.isSpherical,q=a.isLivingRoom;a=a.queueCount;var r=this.props.shouldAutoChain&&this.state.shown;return b("React").createElement(b("Layout.react"),{className:"_64gd"+(r?"":" _1yks")},b("React").createElement(k,{className:q?"_6ju4":""},b("React").createElement(b("Link.react"),{onClick:function(){return this.$1(!1)}.bind(this)},b("React").createElement(b("Image.react"),{src:d,height:m,width:n}),q?b("React").createElement(b("TahoeLivingRoomPill.react"),null):null,b("React").createElement(b("CenteredContainer.react"),{className:"_4m5g",horizontal:!0,vertical:!0,fullHeight:!0},b("React").createElement("div",{className:"_4m83"},b("React").createElement(b("TahoeEndScreenProgressCircle.react"),{makeProgress:r&&this.props.makeProgress,circleDiameter:o,onProgressDone:function(){return this.$1(!0)}.bind(this),timeoutSec:this.props.countdownTimeoutSec},b("React").createElement(b("Image.react"),{className:"_4m8c",src:i("101657")})),b("React").createElement("div",{className:"_4m8d"},h._("VID\u00c9O SUIVANTE")))),g?b("React").createElement("div",{className:"_4m8e"},b("React").createElement(b("VideoDuration.react"),{isLive:j,isSpherical:p,duration:g})):null)),b("React").createElement(l,{className:"_64ge"},b("React").createElement("div",{className:"_64gf"},e?b("React").createElement("div",{className:"_64gj"},b("React").createElement(b("Link.react"),{onClick:function(){return this.$1(!1)}.bind(this)},b("React").createElement(b("LineClamp.react"),{lines:3,fitHeightToShorterText:!0,enableTooltipOnOverflow:!0},b("React").createElement(b("XUIText.react"),{size:"header4",weight:"bold"},e)))):null,c?b("React").createElement("div",{className:"_2pim"},b("React").createElement(b("LineClamp.react"),{lines:1,enableTooltipOnOverflow:!0},b("React").createElement(b("XUIGrayText.react"),{size:"meta1"},c),this.$2())):null,q&&a?b("React").createElement(b("XUIGrayText.react"),{display:"block",size:"meta1"},h._("{queue_count} vid\u00e9os",[h._param("queue_count",a)])):null,f>0?q?this.$3(f):b("React").createElement(b("XUIGrayText.react"),{display:"block",size:"meta1"},h._({"*":"{number} vues","_1":"1 vue"},[h._plural(f,"number",b("intlSummarizeNumber")(f))])):null),b("React").createElement("div",{className:"_64gk"},b("React").createElement(b("Link.react"),{onClick:function(){return this.$4()}.bind(this)},b("React").createElement(b("Image.react"),{className:"_64gl",src:i("368787")}),b("React").createElement(b("XUIText.react"),{className:"_64gl _2pir",size:"header3"},h._("Annuler"))))))};a.prototype.$3=function(a){a=a>1?b("React").createElement(b("XUIGrayText.react"),{display:"block",size:"meta1"},h._("{view counter} spectateurs",[h._param("view counter",b("intlSummarizeNumber")(a))])):null;return a};a.prototype.$4=function(){this.$5(),this.props.onDismiss(),this.props.logEvent(b("TahoeLoggerEvent").UP_NEXT_OVERLAY_CANCEL)};a.prototype.$1=function(a){this.$5();if(a&&!this.props.shouldAutoChain)return;var c=b("Tahoe").get();c&&c.setPlayReason(a?b("VideoPlayerReason").AUTOPLAY:b("VideoPlayerReason").USER);c=this.props.permalink;c&&b("URI").go(c);a?this.props.logEvent(b("TahoeLoggerEvent").UP_NEXT_OVERLAY_REDIRECT_ON_COUNTDOWN_FINISHED):this.props.logEvent(b("TahoeLoggerEvent").UP_NEXT_OVERLAY_REDIRECT_ON_CLICK)};a.prototype.$5=function(){this.setState({shown:!1})};a.prototype.$2=function(){var a=this.props,c=a.isOwnerBlueVerified;a=a.isOwnerGrayVerified;return!c&&!a?null:b("React").createElement("span",{className:"_3h80"},c?b("React").createElement(b("Badge.react"),{size:"small",type:"verified"}):b("React").createElement(b("Badge.react"),{size:"small",type:"page_gray_check"}))};e.exports=a}),null);
__d("XTahoeLivingRoomDataAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/tahoe/living_room_data/",{living_room_id:{type:"FBID",required:!0}})}),null);
__d("TahoeUpNextOverlayAndEndScreen.react",["cx","Arbiter","AsyncRequest","React","SubscriptionsHandler","TahoeGridViewEndScreen.react","TahoeLoggerEvent","TahoeUpNextOverlay.react","VideoPlayerReason","VideoPlayerStates","XTahoeLivingRoomDataAsyncController","XTahoeVideoDataAsyncController","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={videosData:[],makeProgress:!0,isUpNextOverlayDismissed:!1,isVideoFinished:this.props.vpc.getState()===b("VideoPlayerStates").FINISHED,isInTahoe:this.props.vpc.getSource()==="tahoe",isCommentBoxFocused:!1},c}a.prototype.componentDidMount=function(){__p&&__p();var a;this.props.livingRoomID!==null?a=new(b("AsyncRequest"))(b("XTahoeLivingRoomDataAsyncController").getURIBuilder().setFBID("living_room_id",this.props.livingRoomID).getURI()):this.props.videoIDs.length>0&&(a=new(b("AsyncRequest"))(b("XTahoeVideoDataAsyncController").getURIBuilder().setFBIDSet("video_ids",this.props.videoIDs).getURI()));a&&a.setHandler(function(a){a=(a=a)!=null?(a=a.payload)!=null?a.videosData:a:a;a&&a.length>0&&this.setState({videosData:a})}.bind(this)).send();this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(this.props.vpc.addListener("stateChange",function(){return this.$2()}.bind(this)));this.$1.addSubscriptions(this.props.vpc.addListener("TahoeController/exitTahoe",function(){this.setState({isInTahoe:!1})}.bind(this)));this.$1.addSubscriptions(this.props.vpc.addListener("TahoeController/enterTahoe",function(){this.setState({isInTahoe:!0})}.bind(this)));this.$1.addSubscriptions(b("Arbiter").subscribeOnce(["UFIAddComment/focus","comment_content_change"],function(){b("gkx")("AT6oc7waDZylzpc3VYE_6rY1fMXqV4112W4Pt03A2rYgjMxsF7XhLG1ym7PYIfgZ8NthtfNOIpZ_FWgG4DjVX4MSgzAcIPXlF0SCBRkskAcsOg")&&(this.setState({isCommentBoxFocused:!0}),this.props.logEvent(b("TahoeLoggerEvent").AUTOCHAIN_CANCELLED))}.bind(this)));this.props.logEvent(b("TahoeLoggerEvent").UP_NEXT_OVERLAY_SHOWN)};a.prototype.componentWillUnmount=function(){this.$1.release()};a.prototype.shouldComponentUpdate=function(a,b){return!(b.videosData.length===0)};a.prototype.render=function(){if(this.state.isCommentBoxFocused||!this.props.shouldShowUpNextOverlay||!this.props.countdownTimeoutSec)return this.state.isVideoFinished&&this.state.isInTahoe?this.$3():null;var a=null;this.state.isVideoFinished&&(this.state.isUpNextOverlayDismissed||this.props.videoIDs.length===0?a=this.$3():this.props.hasCustomBackgroundForUpNextOverlay||(a=this.$4()));return b("React").createElement("div",{className:"_1a5j _3htz _4ubd"+(this.state.isInTahoe?"":" hidden_elem")},a,this.$5())};a.prototype.$5=function(){if(this.state.videosData.length===0)return null;var a=this.state.videosData[0],c=this.props.countdownTimeoutSec;if(!a||!c)return null;a.isLivingRoom=this.props.livingRoomID;return b("React").createElement(b("TahoeUpNextOverlay.react"),babelHelpers["extends"]({},a,{countdownTimeoutSec:c,shouldAutoChain:!this.state.isCommentBoxFocused,makeProgress:this.state.isInTahoe&&this.state.makeProgress,onDismiss:function(){this.setState({isUpNextOverlayDismissed:!0})}.bind(this),logEvent:this.props.logEvent}))};a.prototype.$2=function(){__p&&__p();var a=this.props.vpc;a=a.getState();switch(a){case b("VideoPlayerStates").PAUSED:this.setState({makeProgress:!1});break;case b("VideoPlayerStates").PLAYING:!this.state.isUpNextOverlayDismissed&&!this.state.makeProgress&&this.setState({makeProgress:!0});break;case b("VideoPlayerStates").FINISHED:this.setState({isVideoFinished:!0});!this.state.isUpNextOverlayDismissed&&!this.state.makeProgress&&this.setState({makeProgress:!0});break}};a.prototype.$3=function(){return b("React").createElement("div",{className:"_3rl2 _2se8"},b("React").createElement(b("TahoeGridViewEndScreen.react"),{videosData:this.state.videosData,onReplay:this.props.isCurrentVideoReplayable?function(){this.props.vpc.play(b("VideoPlayerReason").USER)}.bind(this):null,logEvent:this.props.logEvent}),",")};a.prototype.$4=function(){return b("React").createElement("div",{className:"_3rl2 _zkf"})};e.exports=a}),null);
__d("TahoeUpNextViewportTracking",["csx","StreamViewportTracking","ViewportTracking"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j="tahoe_up_next_videos";h=babelHelpers.inherits(k,b("StreamViewportTracking"));i=h&&h.prototype;k.prototype.getTimetrackingDataToLog=function(a){a=i.getTimetrackingDataToLog.call(this,a);a.ft.tracking_source=j;return a};function k(){h.apply(this,arguments)}e.exports={setup:function(a,c,d){c=new k(b("StreamViewportTracking").getBehavior(a,c,"._bne",d));c.init(a);return c}}}),null);
__d("VideoInfoBottomPaneShimmer.react",["cx","ImageBlock.react","InlineBlock.react","LeftRight.react","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"_2ve3 _2ve4"},b("React").createElement("div",null,b("React").createElement(b("LeftRight.react"),null,b("React").createElement(i,{width:320}),b("React").createElement("span",null,b("React").createElement(k,null),b("React").createElement(k,null),b("React").createElement(k,null))),b("React").createElement(i,{width:222}),b("React").createElement("div",{className:"_2vev"},b("React").createElement(b("ImageBlock.react"),null,b("React").createElement("span",{className:"_2vew"}),b("React").createElement(b("InlineBlock.react"),{alignv:"middle",height:36,fullWidth:!0},b("React").createElement(l,{width:90,height:16}))))),b("React").createElement("div",{className:"_2vex"},b("React").createElement(j,{width:132}),b("React").createElement(j,{width:780}),b("React").createElement(j,{width:460})))};function a(){"use strict";h.apply(this,arguments)}var i=function(a){return b("React").createElement(l,{width:a.width,height:16,className:"_2vey"})},j=function(a){return b("React").createElement(l,{className:"_2vez",height:8,width:a.width})},k=function(){return b("React").createElement(l,{width:60,height:16,display:"inline-block",className:"_2ve-"})},l=function(a){var c=b("joinClasses")(a.className,"_2ve_");return b("React").createElement("div",{className:c,style:{width:a.width,height:a.height,display:a.display}})};l.defaultProps={display:"block"};e.exports=a}),null);
__d("XTahoeAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/tahoe/async/{id}/",{id:{type:"FBID",required:!0},chain:{type:"Bool",defaultValue:!1},externallogid:{type:"String"},isvideo:{type:"Bool",defaultValue:!1},sponsoreddata:{type:"String"},originalmediaid:{type:"String"},preload:{type:"Bool",defaultValue:!1},playerorigin:{type:"Enum",enumType:1},playersuborigin:{type:"String"},reactionvideochanneltype:{type:"Enum",enumType:1},reactionvideochannelsubtype:{type:"String"},ispermalink:{type:"Bool",defaultValue:!1},feedtracking:{type:"StringVector",defaultValue:[]},storyidentifier:{type:"String"},numcopyrightmatchedvideoplayedconsecutively:{type:"Int"},comment_id:{type:"Int"},reply_comment_id:{type:"Int"}})}),null);
__d("XTahoeUpNextAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/tahoe/upnext/async/{media_id}/",{channel_id:{type:"String"},media_id:{type:"FBID",required:!0},viewed_videos:{type:"FBIDSet"},caller:{type:"Enum",enumType:1},chainingindex:{type:"Int"},cursor:{type:"String"},search_keywords:{type:"String"}})}),null);
__d("TahoeVideoView",["csx","cx","Arbiter","AsyncRequest","CSS","DOM","DOMQuery","Event","EventProfiler","HTML","Keys","LivingRoomEntrySource","LivingRoomLoggerAction","LivingRoomTypedLogger","React","ReactDOM","ReactRenderer","SubscriptionsHandler","TabBar","Tahoe","TahoeConstants","TahoeFollowButtonNUX.react","TahoeLoggerEvent","TahoeMainPlayerViewportTracking","TahoeSidePanePlaceholder.react","TahoeUpNextOverlayAndEndScreen.react","TahoeUpNextViewportTracking","TahoeV2Config","TimeSlice","UFISharedDispatcher","UFIStoryActionType","URI","VideoInfoBottomPaneShimmer.react","VideoPermalinkURI","VideoPlaybackProgressTracker","VideoPlayerStates","VideoTipJarTypedLogger","XBasicFBNuxGenShouldShowController","XTahoeAsyncController","XTahoeUpNextAsyncController","XUIAmbientNUX.react","ge","gkx","uuid"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=3,j=9,k=/^[1-9]\d*$/,l=5479,m=75,n=15,o="tahoe-preloaded-video",p=7,q="video-up-next-",r=4,s=97;function t(a,c,d,e){"use strict";__p&&__p();this.$22=!0;this.$37=function(){b("CSS").hide(this.$20),this.$8.setFullWidth(!0)}.bind(this);this.$38=function(){b("CSS").show(this.$20),this.$8.setFullWidth(!1)}.bind(this);this.$8=a;this.$9=!1;this.$16=this.$8.getID();this.$30=c;this.$31=d;this.$32=new Set([this.$16]);this.$4=b("uuid")();this.$27=!1;this.$28=[];this.$26=null;this.$12=!1;this.$13=!1;this.$8.addEvent(b("Event").listen(document,"keydown",this.$35.bind(this)));this.$23=b("CSS").setClass(b("DOM").create("div"),"_1e8c _2b-0");this.$20=b("CSS").setClass(b("DOM").create("div"),"_5-lm _3aw0 _6j1g _6j1h");this.$6=b("CSS").setClass(b("DOM").create("div"),"_17am");this.$17=b("CSS").setClass(b("DOM").create("div"),"hidden_elem");this.$18=b("TahoeConstants").DEFAULT_BROWSER_TITLE;b("ReactDOM").render(b("React").createElement(b("TahoeSidePanePlaceholder.react"),null),this.$20);b("TahoeV2Config").showTahoe2UI&&(this.$24=b("CSS").setClass(b("DOM").create("div"),"_437j"),b("CSS").hide(this.$23),b("DOM").appendContent(this.$8.getContent(),this.$24),b("ReactDOM").render([b("React").createElement(b("VideoInfoBottomPaneShimmer.react"),{key:"shimmer"}),b("React").createElement("div",{className:"_3l-q",key:"inner"})],this.$24));this.$23&&b("DOM").appendContent(this.$8.getContent(),this.$23);b("DOM").appendContent(this.$8.getSideContent(),this.$20);b("DOM").appendContent(this.$20,this.$6);b("DOM").appendContent(this.$8.getContent(),this.$17);a=this.$8.getChannelID();c=this.$8.getCaller();this.$8.getMediaController()?(this.$36(this.$8.getID(),!1,a,c,null,e),this.setUpEndScreen(),this.setUpUFI()):this.updateView(this.$8.getID(),a,c,null,e);this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Arbiter").subscribe("UFIAddComment/focus",this.selectCommentTab.bind(this)),b("Arbiter").subscribe("quiet-mode-on",this.$37),b("Arbiter").subscribe("quiet-mode-off",this.$38),b("Arbiter").subscribe("quick-comments-visible-changed",function(a,b){return this.$39(b)}.bind(this)));b("UFISharedDispatcher").register(function(a){a.type===b("UFIStoryActionType").SHOW_COMMENTS&&this.selectCommentTab()}.bind(this))}t.prototype.$39=function(a){"use strict";var c=b("DOMQuery").scry(this.$20,"._1rgu");c=c[0];if(c==null)return;a?b("CSS").addClass(c,"_4j8y"):b("CSS").removeClass(c,"_4j8y")};t.prototype.setUpUFI=function(){"use strict";var a=this.$8.getMediaController();a&&(this.$8.addEvent(a.addListener("commercialBreak/hideUFI",function(){return this.$40(!0)}.bind(this))),this.$8.addEvent(a.addListener("commercialBreak/showUFI",function(){return this.$40(!1)}.bind(this))),this.$13&&this.$41())};t.prototype.$41=function(){var a=b("DOM").create("div"),c=b("DOMQuery").scry(this.$20,"._4epf"),d=(c=c)!=null?(c=c[0])!=null?c.firstChild:c:c;c=this.$8.getMediaController();c=c;d&&b("VideoPlaybackProgressTracker").onPercentageWatched(c,m,function(){var c=b("XBasicFBNuxGenShouldShowController").getURIBuilder().setInt("nux_id",l).getURI();new(b("AsyncRequest"))().setURI(c).setMethod("GET").setReadOnly(!0).setHandler(function(c){c=c.getPayload();c.should_show_nux&&!this.$12&&(b("ReactDOM").render(b("React").createElement(b("TahoeFollowButtonNUX.react"),{ref:function(a){this.$11=a}.bind(this),context:d}),a),b("DOM").appendContent(this.$20,a))}.bind(this)).send()}.bind(this))};t.prototype.$40=function(a){"use strict";b("gkx")("AT40M32z8lGGJCQ8BdpTKBKW7c04XyOQ5frn2-EF3H5yLFnMqCUjJXNKrWFmzea4OX3v4yubJZaoRWQAybsxXQJO")||b("CSS").conditionClass(this.$6,"_17an",a),this.$23&&b("CSS").conditionClass(this.$23,"_3qt9",a)};t.prototype.setUpEndScreen=function(){"use strict";__p&&__p();this.$22=!0;var a=this.$8.getMediaController(),c=a.isLiveVideo();(!c||b("gkx")("AT4ODvPnoizcT_rSyPM_kr8o-uYuC8LB-SGtzjxzVa7DZrGz9bNbuK7XK_MPFJ_Jv4-fN4mVJeHWCzk4k0w1FTVH"))&&this.$8.addEvent(a.addListener("stateChange",this.$42.bind(this)));if(c)return;this.$8.addEvent(a.addListener("toggleFullscreen",this.$42.bind(this)));var d=a;if(!d)return;var e=b("gkx")("AT5U3uc-KVfuFEJ95IaYPQpi43ZNpaIaZMGFIk5gJ_VmF6Mfe-rnrbWZu0r9VYsjJKOr5t8XxIuf1j74QUYM0xpB");d.addListener("updateStatus",function(a){__p&&__p();var c=d.getPlaybackDuration();a=c-a.position;var f=e?4:p;f=c<n?i:f;if(a>f){this.$26&&this.$43();return}f=d.getState();if(this.$26||f===b("VideoPlayerStates").PAUSED)return;f=e?p:a+1;this.$44(!1,!0,c>n,f)}.bind(this))};t.prototype.$44=function(a,c,d,e){"use strict";__p&&__p();if(this.$26)return;var f=this.$8.getMediaController();f=f;if(!f)return;var g=b("DOM").create("div",{className:"_4n-p"});b("ReactRenderer").constructAndRenderComponent(b("TahoeUpNextOverlayAndEndScreen.react"),{videoIDs:this.$28.slice(0,j),shouldShowUpNextOverlay:d&&this.$22,countdownTimeoutSec:e,vpc:f,logEvent:function(a){this.$8.logEvent(a)}.bind(this),tahoeController:this.$8,hasCustomBackgroundForUpNextOverlay:a,isCurrentVideoReplayable:c,livingRoomID:this.$2?this.$14:null},g);this.$22=!1;d=f.getRootNode();e=d&&d.firstChild;e&&(e.appendChild(g),this.$26=g)};t.prototype.$42=function(){"use strict";var a=this.$8.getMediaController();a=a;!a.isLiveVideo()?this.$23&&b("CSS").conditionClass(this.$23,"_65dt",a.isState(b("VideoPlayerStates").FINISHED)):a.isState(b("VideoPlayerStates").FINISHED)&&this.$44(!0,!1,!0,p)};t.prototype.$43=function(){"use strict";var a=this.$26;a&&(b("ReactDOM").unmountComponentAtNode(a),b("DOM").remove(a),this.$26=null)};t.prototype.$45=function(){"use strict";b("CSS").addClass(this.$8.getContent(),"_29du"),b("CSS").addClass(this.$20,"_4f4w"),this.$24&&b("CSS").addClass(this.$24,"_1udj"),this.$23&&b("DOM").empty(this.$23)};t.prototype.$46=function(){__p&&__p();b("CSS").removeClass(this.$8.getContent(),"_29du");b("CSS").removeClass(this.$20,"_4f4w");this.$24&&b("CSS").removeClass(this.$24,"_1udj");var a=b("DOMQuery").scry(this.$20,"._4epf");a=(a=a)!=null?(a=a[0])!=null?(a=a.childNodes)!=null?a[0]:a:a:a;a&&b("Event").listen(a,"click",function(){this.$12=!0,this.$47()}.bind(this));if(this.$27){a=b("DOMQuery").find(this.$20,"._3dj6");a=b("CSS").removeClass(a,"_3dj6");var c=b("DOM").find(this.$17,"._3dj7"),d=0;this.$34&&(b("DOM").prependContent(c,this.$34),d=1,new(b("LivingRoomTypedLogger"))().setLivingRoomAction(b("LivingRoomLoggerAction").IMPRESSION).setLivingRoomID(this.$14).setEntrySource(b("LivingRoomEntrySource").TAHOE).log());b("DOM").setContent(a,c);b("EventProfiler").informManualInteractionTimestamp(["Tahoe"],!0,"click");this.$27=!1;!this.$2&&c.childNodes&&c.childNodes[d]&&this.$48(c.childNodes[d],function(){b("TimeSlice").guard(this.$49.bind(this),"Tahoe preload next video",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()}.bind(this),function(){return this.selectCommentTab()}.bind(this))}b("TahoeV2Config").showTahoe2UI&&this.$8.resizeMedia()};t.prototype.$35=function(a){"use strict";a.keyCode===b("Keys").ESC&&!a.cancelBubble&&!a.defaultPrevented&&!this.$8.getIsPermalink()&&(this.$8.logEvent(b("TahoeLoggerEvent").EXIT_WITH_ESC),this.$8.onExit())};t.prototype.$50=function(a,c,d,e){"use strict";__p&&__p();a=this.$51(a,d,e);a&&a.send();d=b("DOMQuery").scry(this.$8.getContent(),"._1c_u");e=b("DOMQuery").scry(this.$20,"._1rgu");d[0]&&b("DOM").replace(d[0],b("DOMQuery").scry(c,"._5-yb")[0]);a=b("DOMQuery").scry(c,"._1w6j");d=b("DOMQuery").scry(c,"._3l-q");b("TahoeV2Config").showTahoe2UI&&(a[0]&&this.$52(),d[0]&&this.$53());this.$23&&a[0]&&b("DOM").setContent(this.$23,a[0]);this.$24&&d[0]&&b("DOM").setContent(this.$24,d[0]);e[0]?b("DOM").replace(e[0],b("DOMQuery").find(c,"._1rgu")):b("DOM").appendContent(this.$20,b("DOMQuery").find(c,"._1rgu"));document.title=this.$18;t.registerPendingController(this.$19);this.$46()};t.prototype.$36=function(a,c,d,e,f,g){__p&&__p();g===void 0&&(g=null);this.$3=null;var h=null;!c?h=[JSON.stringify(this.$8.getFeedTracking())]:h=this.$54(a);f=b("XTahoeAsyncController").getURIBuilder().setFBID("id",a).setBool("chain",c).setBool("isvideo",!0).setString("originalmediaid",this.$16).setEnum("playerorigin",this.$30).setString("playersuborigin",this.$31).setString("sponsoreddata",f).setString("externallogid",this.$8.getExternalLogID()).setEnum("reactionvideochanneltype",this.$8.getReactionVideoChannelType()).setString("reactionvideochannelsubtype",this.$8.getReactionVideoChannelSubtype()).setBool("ispermalink",this.$8.getIsPermalink()).setStringVector("feedtracking",h).setInt("numcopyrightmatchedvideoplayedconsecutively",this.$8.getNumCopyrightMatchedVideosPlayedConsecutively());g&&(g.commentID!=="0"&&f.setInt("comment_id",g.commentID),g.replyCommentID!=="0"&&f.setInt("reply_comment_id",g.replyCommentID));h=this.$8.getStoryIdentifier();h&&f.setString("storyidentifier",h);g=new(b("AsyncRequest"))(f.getURI()).setHandler(function(a){__p&&__p();a=a.getPayload();a.disablePreload&&(this.$10=!0);a.viewportTrackingConfig&&(this.$33=a.viewportTrackingConfig);this.$9=!!a.hasNearlyCompleteLicensedMusicTag;this.$34=a.watchChannelUpNext?b("HTML").replaceJSONWrapper(a.watchChannelUpNext.markup):null;this.$14=a.livingRoomID?a.livingRoomID:null;this.$2=a.autoadvanceLivingRoom?a.autoadvanceLivingRoom:null;document.title=a.videoTitle||b("TahoeConstants").DEFAULT_BROWSER_TITLE;if(c){var d=b("DOMQuery").scry(this.$8.getContent(),"._1c_u"),e=b("DOMQuery").scry(this.$20,"._1rgu");d[0]&&b("DOM").replace(d[0],b("HTML").replaceJSONWrapper(a.video.markup));b("TahoeV2Config").showTahoe2UI&&(a.ufiTray&&this.$52(),a.infoBottomPane&&this.$53());a.ufiTray&&b("DOM").setContent(this.$23,b("HTML").replaceJSONWrapper(a.ufiTray.markup));a.infoBottomPane&&b("DOM").replace(this.$24.lastChild,b("HTML").replaceJSONWrapper(a.infoBottomPane.markup));e[0]?b("DOM").replace(e[0],b("HTML").replaceJSONWrapper(a.sidePane.markup)):b("DOM").appendContent(this.$20,b("HTML").replaceJSONWrapper(a.sidePane.markup));d=typeof a.autoplayAllowed==="boolean"?a.autoplayAllowed:!0;this.$8.setAutoplayAllowed(d)}else b("TahoeV2Config").showTahoe2UI&&(a.ufiTray&&this.$52(),a.infoBottomPane&&this.$53()),a.ufiTray&&b("DOM").appendContent(this.$23,b("HTML").replaceJSONWrapper(a.ufiTray.markup)),a.infoBottomPane&&b("DOM").replace(this.$24.lastChild,b("HTML").replaceJSONWrapper(a.infoBottomPane.markup)),b("DOM").appendContent(this.$20,b("HTML").replaceJSONWrapper(a.sidePane.markup));this.$13=!!a.isShowVideo;e=this.$8.getContent();d=this.$33;if(e&&d&&a.ftKey){var f=b("DOMQuery").scry(e,"._5-yb")[0];f&&(f.setAttribute("data-ft",a.ftKey),this.$15=b("TahoeMainPlayerViewportTracking").setup(d,e,s))}this.$46();b("EventProfiler").informManualInteractionTimestamp(["Tahoe"],!0,"click")}.bind(this));h=null;h=this.$51(a,d,e);g.send();h&&h.send();this.$45()};t.prototype.$52=function(){"use strict";b("CSS").show(this.$23),b("CSS").hide(this.$24),b("CSS").removeClass(this.$8.getContent(),"_-pb")};t.prototype.$53=function(){"use strict";b("CSS").show(this.$24),b("CSS").hide(this.$23),b("CSS").addClass(this.$8.getContent(),"_-pb")};t.prototype.$48=function(a,c,d){"use strict";a=b("DOMQuery").scry(a,"a")[0];a?(this.$3=a.getAttribute("href"),c&&c()):d&&d()};t.prototype.setUpNextChainingInfoFromReactElement=function(a){"use strict";this.$48(a,function(){b("TimeSlice").guard(this.$49.bind(this),"Tahoe preload next video",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()}.bind(this),function(){return this.selectCommentTab()}.bind(this))};t.prototype.$51=function(a,c,d){"use strict";__p&&__p();var e=b("ge")(q+a);if(e){var f=e.parentNode,g=Array.from(f.children);g.some(function(c){if(c.id!==q+a){b("DOM").remove(c);return!1}else return!0});b("DOM").remove(f.firstChild);b("DOM").appendContent(this.$17,f);if(f.children.length>=10){this.$28=this.$55(Array.from(f.children));this.$27=!0;return null}}else!e&&a!==this.$16&&(this.$8.resetChannelData(),this.$5=null,c=null,d=null);g=b("XTahoeUpNextAsyncController").getURIBuilder().setFBID("media_id",a).setFBIDSet("viewed_videos",Array.from(this.$32)).setString("channel_id",c).setEnum("caller",d).setString("cursor",this.$5).setString("search_keywords",this.$8.getSearchKeywordsForVideoChaining());f=new(b("AsyncRequest"))(g.getURI()).setHandler(function(a){__p&&__p();a=a.getPayload();this.$5=a.chainingCursor;a.viewportTrackingConfig&&(this.$33=a.viewportTrackingConfig);a=b("HTML").replaceJSONWrapper(a.upNextUnit.markup);this.$27=!0;var c=b("DOMQuery").scry(this.$20,"._3dj6"),d=b("DOMQuery").scry(this.$17,"._3dj7");if(d[0]){b("DOM").appendContent(this.$17,a);d=b("DOMQuery").scry(this.$17,"._3dj7");var e=Array.from(d[1].children);e.forEach(function(a){b("DOM").appendContent(d[0],a)});b("DOM").remove(d[1]);a=d[0];var f={};Array.from(a.children).forEach(function(a){f[a.id]?b("DOM").remove(a):f[a.id]=!0});b("DOM").remove(d[0])}e=null;c[0]?(c=b("CSS").removeClass(c[0],"_3dj6"),b("DOM").setContent(c,a),this.$27=!1,e=c):(b("DOM").appendContent(this.$17,a),e=this.$17);d=b("DOMQuery").scry(e,"._3dj7");d[0]&&(this.$28=this.$55(Array.from(d[0].children)));c=this.$33;c&&(this.$29=b("TahoeUpNextViewportTracking").setup(c,e,s),this.$25=b("TahoeUpNextViewportTracking").setup(c,e,r));a=b("DOMQuery").scry(this.$20,"._3dj7");c=0;this.$34&&(b("DOM").prependContent(a[0],this.$34),c=1,new(b("LivingRoomTypedLogger"))().setLivingRoomAction(b("LivingRoomLoggerAction").IMPRESSION).setLivingRoomID(this.$14).setEntrySource(b("LivingRoomEntrySource").TAHOE).log());e=b("DOMQuery").scry(this.$20,"._bne");b("EventProfiler").informManualInteractionTimestamp(["Tahoe"],!0,"click");!this.$2&&e.childNodes&&e.childNodes[c]&&this.$48(e.childNodes[c],function(){b("TimeSlice").guard(this.$49.bind(this),"Tahoe preload next video",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()}.bind(this),function(){return this.selectCommentTab()}.bind(this))}.bind(this));return f};t.prototype.$55=function(a){"use strict";return a.map(function(a){return a.id&&a.id.substring(q.length)}).filter(function(a){return this.$56(a)}.bind(this))};t.prototype.$56=function(a){"use strict";return!a?!1:k.test(a)};t.prototype.getCurrentVideoHasCopyrightMusicMatch=function(){"use strict";return this.$9};t.prototype.setUpNextVideoIDs=function(a){"use strict";this.$28=this.$55(a)};t.prototype.getUpNextVideoIDs=function(){"use strict";return this.$28};t.prototype.$49=function(){"use strict";__p&&__p();if(this.$10)return;var a=new(b("URI"))(this.$3),c=b("VideoPermalinkURI").parse(a).video_id;if(!c)return;a=a.getQueryData().sp;var d=this.$54(c);a=b("XTahoeAsyncController").getURIBuilder().setFBID("id",c).setBool("chain",!0).setBool("isvideo",!0).setString("originalmediaid",this.$16).setBool("preload",!0).setBool("ispermalink",this.$8.getIsPermalink()).setEnum("playerorigin",this.$30).setString("playersuborigin",this.$31).setString("sponsoreddata",a).setEnum("reactionvideochanneltype",this.$8.getReactionVideoChannelType()).setString("reactionvideochannelsubtype",this.$8.getReactionVideoChannelSubtype()).setString("externallogid",this.$8.getExternalLogID()).setStringVector("feedtracking",d).setInt("numcopyrightmatchedvideoplayedconsecutively",this.$8.getNumCopyrightMatchedVideosPlayedConsecutively());d=new(b("AsyncRequest"))(a.getURI()).setHandler(function(a){__p&&__p();a=a.getPayload();var d=b("DOM").create("div",{id:"preload-"+c,"class":o});b("DOM").appendContent(d,b("HTML").replaceJSONWrapper(a.video.markup));a.ufiTray&&b("DOM").appendContent(d,b("HTML").replaceJSONWrapper(a.ufiTray.markup));a.infoBottomPane&&b("DOM").appendContent(d,b("HTML").replaceJSONWrapper(a.infoBottomPane.markup));b("DOM").appendContent(d,b("HTML").replaceJSONWrapper(a.sidePane.markup));b("DOM").appendContent(this.$17,d);d=typeof a.autoplayAllowed==="boolean"?a.autoplayAllowed:!0;this.$18=a.videoTitle||b("TahoeConstants").DEFAULT_BROWSER_TITLE;this.$8.setAutoplayAllowed(d);this.$9=!!a.hasNearlyCompleteLicensedMusicTag}.bind(this));d.send()};t.prototype.$54=function(a){"use strict";var c=null;a=b("ge")(q+a);a&&a.getAttribute("data-ft")&&(c=['{"ft":'+a.getAttribute("data-ft")+"}"]);return c};t.prototype.selectAddComment=function(){"use strict";var a=b("DOMQuery").scry(this.$20,".UFIAddCommentInput");a[0]&&a[0].click();this.selectCommentTab()};t.prototype.selectCommentTab=function(){"use strict";var a=b("DOMQuery").scry(this.$20,"._1rgu")[0];a&&(b("CSS").addClass(a,"_601h"),b("CSS").removeClass(a,"_601i"),b("Arbiter").inform("TahoeView/selectCommentTab"))};t.prototype.selectUpNextTab=function(){"use strict";var a=b("DOMQuery").scry(this.$20,"._1rgu")[0];a&&(b("CSS").addClass(a,"_601i"),b("CSS").removeClass(a,"_601h"))};t.prototype.setCommentOverlayActive=function(a){"use strict";var c=b("DOMQuery").scry(this.$20,"._1rgu")[0];a?b("CSS").addClass(c,"_2l-1"):b("CSS").removeClass(c,"_2l-1")};t.prototype.updateView=function(a,c,d,e,f){e===void 0&&(e=null);f===void 0&&(f=null);this.$43();this.$32.add(a);var g=b("DOMQuery").scry(this.$17,"#preload-"+a);g[0]&&this.$19?(this.$50(a,g[0],c,d),this.$57()):(this.$57(),this.$29&&this.$29.cleanup(),this.$25&&this.$25.cleanup(),this.$15&&this.$15.cleanup(),this.$36(a,!0,c,d,e,f));this.$47();this.$40(!1)};t.prototype.$57=function(){"use strict";this.$19=null;var a=b("DOMQuery").scry(this.$17,"."+o);Array.from(a).forEach(function(a){b("DOM").remove(a)})};t.prototype.$47=function(){"use strict";this.$11&&this.$11.hide()};t.prototype.toggleNativeSupportFlyout=function(){"use strict";var a=b("DOMQuery").scry(this.$20,".UFICommentSupportButton");a.length>0&&(a[0].dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),a[0].dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),a[0].click())};t.prototype.getBottomTrayHeight=function(){"use strict";return this.isRenderingBottomInfoPane()?this.$24&&this.$24.clientHeight:this.$23.clientHeight};t.prototype.isRenderingBottomInfoPane=function(){"use strict";return!b("CSS").shown(this.$23)};t.prototype.onExit=function(){"use strict";this.$1.release(),this.$43()};t.registerCommentLink=function(a){"use strict";var c=b("Tahoe").get();c&&c.addEvent(b("Event").listen(a,"click",function(){return c.getView().selectAddComment()}))};t.registerPendingController=function(a){"use strict";var c=b("Tahoe").get();c&&a&&(c.updateMedia(a),c.emit("TahoeController/mediaControllerRegistered"))};t.registerPreloadController=function(a){"use strict";var c=b("Tahoe").get();c&&(c.getView().$19=a)};t.registerSidepaneTabbar=function(a){"use strict";__p&&__p();var c=b("Tahoe").get();if(c!=null){var d=c.getView();d instanceof t&&a.subscribe(b("TabBar").TAB_CLICK,function(a,b){switch(b){case"up-next":d.selectUpNextTab();break;case"comments":d.selectCommentTab()}})}};t.registerSupportLink=function(a){"use strict";var c=b("Tahoe").get();if(c==null)return;var d=c.getView();if(!(d instanceof t))return;c.addEvent(b("Event").listen(a,"click",function(){d.toggleNativeSupportFlyout(),new(b("VideoTipJarTypedLogger"))().setEvent("support_button_clicked").setVideoID(c.getMediaController().getMediaID()).log()}))};t.registerShowCommentsTabLink=function(a){"use strict";var c=b("Tahoe").get(),d=c&&c.getView();c&&d&&c.addEvent(b("Event").listen(a,"click",function(){return d.selectCommentTab()}))};t.registerShowMainTabLink=function(a){"use strict";var c=b("Tahoe").get(),d=c&&c.getView();c&&d&&c.addEvent(b("Event").listen(a,"click",function(){return d.selectUpNextTab()}))};t.loadView=function(a,b,c,d){"use strict";return new t(a,b,c,d)};e.exports=t}),null);
__d("XTahoeReactionsTrayAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/tahoe/async/reactions/",{video_id:{type:"FBID",required:!0}})}),null);
__d("TahoeController",["cx","Arbiter","AsyncRequest","BlueBar","CSS","DialogX","EventEmitter","EventProfiler","FantaTabActions","LiveVideoExperiments","PageTransitions","ResizeListener","StreamingReactionsTray","Tahoe","TahoeActions","TahoeConstants","TahoeDispatcher","TahoeDOM","TahoeLoggerEvent","TahoeTypedLogger","TahoeV2Config","TahoeVideoResizingController","TahoeVideoView","TimeSlice","URI","VideoAutoplayControllerX","VideoChainingCaller","VideoChannelCallerToPlayerOriginMap","VideoPermalinkURI","VideoPlayerLoggerSource","VideoPlayerOrigins","VideoPlayerReason","XTahoeReactionsTrayAsyncController","collectDataAttributes","ge","gkx","prevNextControlActions","prevNextControlStore","requireWeak","shouldWNSRenderToRHC","TahoeVideoStore"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;b("requireWeak")("VideoProgressPreviewBar.react",function(a){i=a});var j;b("requireWeak")("VideoWatchAndScrollController",function(a){j=a});var k=48,l=0;a=876;var m=a-b("TahoeConstants").SIDE_PANE_WIDTH,n=4,o=560,p=350;c=babelHelpers.inherits(q,b("EventEmitter"));h=c&&c.prototype;function q(a){__p&&__p();h.constructor.call(this);this.$TahoeController1=!1;this.$TahoeController3=!0;this.$TahoeController21=!1;this.$TahoeController22=!1;this.$TahoeController26=b("VideoPlayerReason").USER;this.$TahoeController35=!1;this.$TahoeController49=function(){this.$TahoeController47()}.bind(this);b("TahoeDispatcher").explicitlyRegisterStores([b("TahoeVideoStore")]);b("EventProfiler").tagCurrentActiveInteractionsAs("Tahoe");this.$TahoeController13=[];this.$TahoeController21=a.isPermalink;this.$TahoeController24=0;this.$TahoeController34=a.storyIdentifier;this.$TahoeController37=o-b("TahoeConstants").BLUE_BAR_HEIGHT-this.$TahoeController40();this.$TahoeController31=a.origin;this.$TahoeController32=a.suborigin;this.$TahoeController5=a.channelID;this.$TahoeController4=a.caller;this.$TahoeController27=a.reactionVideoChannelType;this.$TahoeController28=a.reactionVideoChannelSubtype;this.$TahoeController29=a.searchKeywordsForVideoChaining;this.$TahoeController12=a.externalLogID;this.$TahoeController38=a.feedLocation;this.$TahoeController39=!0;this.$TahoeController11=b("gkx")("AT5ch4oOEjKgflD_2AXuOdUQ4ETIqyDvxu0YOHU5-UOBSLFmHLIJNjNLMrEfun5z41KRVDLkAbdP6jgYdQcWi3a2")?b("URI").getNextURI():b("URI").getRequestURI();this.$TahoeController25=this.$TahoeController41.bind(this);a.watchLandingPage&&(this.$TahoeController36=new(b("URI"))(a.watchLandingPage));this.$TahoeController10=a.entryDocumentTitle;b("PageTransitions").registerHandler(this.$TahoeController25,n);b("PageTransitions").go(a.uri);this.$TahoeController9=new(b("TahoeDOM"))(this);this.$TahoeController8=this.$TahoeController9.createDialog();if(a.mediaController)this.$TahoeController42(a.mediaController.video),this.$TahoeController15=this.$TahoeController23.getMediaID(),this.$TahoeController43(),this.$TahoeController9.setInitialMediaContent(this.getMediaContent());else{this.$TahoeController44();var c=b("VideoPermalinkURI").parse(a.uri);this.$TahoeController15=c.video_id}b("FantaTabActions").minimizeAllTabs();b("Arbiter").inform("chat/option-changed",{name:"hide_buddylist",value:!0});this.$TahoeController14=a.feedTracking;this.$TahoeController33=b("TahoeVideoView").loadView(this,this.$TahoeController31,this.$TahoeController32,{commentID:a.uri.getQueryData().comment_id,replyCommentID:a.uri.getQueryData().reply_comment_id})}q.prototype.go=function(a){b("PageTransitions").go(a)};q.prototype.onExit=function(a){this.$TahoeController1?this.$TahoeController45():a=="wns"?(this.logEvent(b("TahoeLoggerEvent").EXIT_WITH_WNS_CONTROL),b("PageTransitions").go(this.$TahoeController11)):b("PageTransitions").go(this.$TahoeController11)};q.prototype.getReactionVideoChannelType=function(){return this.$TahoeController27};q.prototype.getReactionVideoChannelSubtype=function(){return this.$TahoeController28};q.prototype.getSearchKeywordsForVideoChaining=function(){return this.$TahoeController29};q.prototype.getFeedTracking=function(){return this.$TahoeController14};q.prototype.getStoryIdentifier=function(){return this.$TahoeController34};q.prototype.getNumCopyrightMatchedVideosPlayedConsecutively=function(){return this.$TahoeController24};q.prototype.$TahoeController46=function(){var a=this.$TahoeController36?this.$TahoeController36:this.$TahoeController11;this.$TahoeController9.placeBackAffordance(a,this.$TahoeController21,!!this.$TahoeController36,this.$TahoeController23)};q.prototype.$TahoeController42=function(a){b("TahoeActions").setMediaController(a);this.$TahoeController23=a;a=a;a=a.isBroadcast();if(a&&document.body){a=b("LiveVideoExperiments").getParamsValueAndLogExposure(b("LiveVideoExperiments").UNIVERSE.VERTICAL_REACTIONS);a.isReactionBarRightAligned&&document.body&&b("CSS").addClass(document.body,"_3yn5")}};q.prototype.$TahoeController44=function(){this.$TahoeController46(),this.$TahoeController9.insertPlaceholderMedia(),this.$TahoeController47()};q.prototype.$TahoeController43=function(){this.$TahoeController46();var a=this.$TahoeController23,c=a.getRootNode();this.$TahoeController16=this.$TahoeController23;a=a.getSource();this.$TahoeController18=a?a:b("VideoPlayerLoggerSource").INLINE;c&&(this.$TahoeController19=c.clientWidth);c&&(this.$TahoeController17=c.clientHeight);this.$TahoeController30=!0;c&&this.$TahoeController9.insertMedia(c)};q.prototype.setMediaState=function(){__p&&__p();this.$TahoeController2=parseFloat(this.getMediaContent().getAttribute("data-original-aspect-ratio"));var a=this.$TahoeController23;a.updateSource(b("VideoPlayerLoggerSource").TAHOE);b("VideoAutoplayControllerX").setShouldAutoplay(!1);this.$TahoeController20||a.unmute();this.$TahoeController7!=null&&a.setVolume(this.$TahoeController7);(this.$TahoeController3||this.$TahoeController26===b("VideoPlayerReason").USER)&&(a.play(this.$TahoeController26),this.$TahoeController20&&a.mute());this.setNumCopyrightMatchedVideosPlayedConsecutively();this.$TahoeController23.emit("TahoeController/enterTahoe");this.$TahoeController23.getRootNode().focus();i&&i.destroyComponentIfAvailable(this.$TahoeController23);this.$TahoeController47();this.$TahoeController48();this.$TahoeController13.push(b("ResizeListener").add(this.$TahoeController49))};q.prototype.setPlayReason=function(a){this.$TahoeController26=a};q.prototype.addEvent=function(event){this.$TahoeController13.push(event)};q.prototype.getMediaController=function(){return this.$TahoeController23};q.prototype.setNumCopyrightMatchedVideosPlayedConsecutively=function(){this.$TahoeController3&&this.$TahoeController26!==b("VideoPlayerReason").USER&&this.$TahoeController33&&this.$TahoeController33.getCurrentVideoHasCopyrightMusicMatch()?this.$TahoeController24++:this.$TahoeController24=0};q.prototype.setFullWidth=function(a){this.$TahoeController35=a,this.$TahoeController47()};q.prototype.resizeMedia=function(){this.$TahoeController47()};q.prototype.$TahoeController48=function(){__p&&__p();var a=this.$TahoeController23;if(a.getIsStreamingReactionInitialized())return;var c=b("ge")("fbVideoStreamingReactionsTray");if(!c)return;var d=b("XTahoeReactionsTrayAsyncController").getURIBuilder().setFBID("video_id",a.getVideoID()),e=function(d){d=d.payload;if(!d)return;new(b("StreamingReactionsTray"))(c,a,b("VideoPlayerLoggerSource").TAHOE,d.feedbackID,d.broadcastID,d.profilePicUri,d.actorProfilePics,!0,!0,!0)};new(b("AsyncRequest"))().setURI(d.getURI()).setAllowCrossPageTransition(!0).setMethod("GET").setReadOnly(!0).setHandler(e).send()};q.prototype.$TahoeController47=function(){__p&&__p();if(this.$TahoeController22)return;var a=this.$TahoeController33;if(b("TahoeV2Config").showTahoe2UI&&!(a instanceof b("TahoeVideoView")&&!a.isRenderingBottomInfoPane())){a=b("TahoeVideoResizingController").getPlayerSize(window.innerWidth,window.innerHeight);var c=a.width;a=a.height;this.$TahoeController9.setMediaSizeForTahoeV2(c,a);this.$TahoeController23&&this.$TahoeController23.setDimensions(c,a)}else{c=this.$TahoeController35?window.innerWidth:window.innerWidth-b("TahoeConstants").SIDE_PANE_WIDTH;c=Math.max(c,m);a=window.innerHeight-this.$TahoeController40();b("BlueBar").hasFixedBlueBar()&&(a-=b("TahoeConstants").BLUE_BAR_HEIGHT);a=Math.max(a,this.$TahoeController37);this.$TahoeController9.setMediaContentSize(c+"px",a+"px");var d=this.$TahoeController23;d&&d.removeOffsetStylings();this.$TahoeController23&&this.$TahoeController23.setDimensions(c,a)}};q.prototype.$TahoeController41=function(a){__p&&__p();var c;b("gkx")("AT5ch4oOEjKgflD_2AXuOdUQ4ETIqyDvxu0YOHU5-UOBSLFmHLIJNjNLMrEfun5z41KRVDLkAbdP6jgYdQcWi3a2")?this.$TahoeController39?(c=this.$TahoeController11,this.$TahoeController39=!1):c=b("URI").getRequestURI():c=b("URI").getRequestURI();if(a.getPath()===this.$TahoeController11.getPath()&&a.getQueryData().ref!=="tahoe"&&!this.getIsPermalink())this.$TahoeController18===b("VideoPlayerLoggerSource").WATCH_SCROLL?(this.$TahoeController1=!0,b("shouldWNSRenderToRHC")()?this.$TahoeController23.emit("crossfadeWatchAndScroll"):this.$TahoeController23.emit("enterWatchAndScroll")):this.$TahoeController45();else if(!this.$TahoeController50(a)){this.$TahoeController45();return!1}else if((this.$TahoeController11.getPath()!=c.getPath()||c.getQueryData().ref==="tahoe")&&c.getPath()!=a.getPath())this.$TahoeController51(a);else if(c.getPath()===a.getPath()){c=this.$TahoeController23;c&&c.isState("fallback")&&this.$TahoeController51(a)}else this.getIsPermalink()&&this.$TahoeController51(a);b("PageTransitions").transitionComplete();return!0};q.prototype.$TahoeController50=function(a){return b("VideoPermalinkURI").isValid(a)};q.prototype.$TahoeController51=function(a){__p&&__p();this.$TahoeController22=!0;var c=this.$TahoeController23;c.pause();this.$TahoeController9.returnFeedElement();c=b("VideoPermalinkURI").parse(a);var d=c.video_id;this.$TahoeController34=c.story_id;c=b("prevNextControlStore").getState().videoIdQueue;c.length!==0&&c[c.length-1]===d?b("prevNextControlStore").dispatch(b("prevNextControlActions").popID()):b("prevNextControlStore").dispatch(b("prevNextControlActions").addID(this.$TahoeController15));c=a.getQueryData().sp;this.$TahoeController33.updateView(d,this.$TahoeController5,this.$TahoeController4,c)};q.prototype.resetChannelData=function(){this.$TahoeController5=null,this.$TahoeController4=null};q.prototype.$TahoeController40=function(){if(b("TahoeV2Config").showTahoe2UI)return k;var a=null,c=this.$TahoeController33;c instanceof b("TahoeVideoView")&&(a=c.getBottomTrayHeight());return Math.min(a||l,p)};q.prototype.$TahoeController45=function(){__p&&__p();this.$TahoeController33&&this.$TahoeController33.onExit();b("PageTransitions").removeHandler(this.$TahoeController25,n);this.$TahoeController13.forEach(function(a){return a.remove()});this.$TahoeController13=[];this.$TahoeController9.setMediaContentSize("","");this.$TahoeController9.returnFeedElement();var a=this.$TahoeController16;b("VideoAutoplayControllerX").setShouldAutoplay(!0);this.$TahoeController16&&(this.$TahoeController18===b("VideoPlayerLoggerSource").WATCH_SCROLL&&this.$TahoeController16!==this.$TahoeController23||(a.addOffsetStylings(),a.setDimensions(this.$TahoeController19,this.$TahoeController17),a.updateSource(this.$TahoeController18)),a.pause(b("VideoPlayerReason").AUTOPLAY),a.mute(),a.getState()!=="finished"&&this.$TahoeController16.emit("resumeAutoplay"),this.$TahoeController16.emit("TahoeController/exitTahoe"));b("Arbiter").inform("TahoeController/exitTahoe");this.$TahoeController23&&this.$TahoeController23.emit("TahoeController/exitTahoe");if(this.$TahoeController23!==this.$TahoeController16){a=this.$TahoeController23;a.pause(b("VideoPlayerReason").USER)}this.$TahoeController9.cleanup();this.$TahoeController8!=null&&(this.$TahoeController8.destroy(),this.$TahoeController8=null);this.$TahoeController10&&(document.title=this.$TahoeController10);this.$TahoeController6&&b("TimeSlice").cancel(this.$TahoeController6);b("TahoeActions").exit();b("Tahoe").set(null);this.$TahoeController21&&b("PageTransitions").go("/")};q.prototype.getID=function(){return this.$TahoeController15};q.prototype.getDialogContent=function(){return this.$TahoeController9.getDialogContent()};q.prototype.getContent=function(){return this.$TahoeController9.getContent()};q.prototype.getMediaContent=function(){return this.$TahoeController9.getMediaContent()};q.prototype.getSideContent=function(){return this.$TahoeController9.getSideContent()};q.prototype.getChannelID=function(){return this.$TahoeController5};q.prototype.getCaller=function(){return this.$TahoeController4};q.prototype.getExternalLogID=function(){return this.$TahoeController12};q.prototype.getIsPermalink=function(){return this.$TahoeController21};q.prototype.updateMedia=function(a){__p&&__p();var c=this.$TahoeController23;c&&typeof c.getVolume==="function"&&typeof c.isMuted==="function"&&(this.$TahoeController7=c.getVolume(),this.$TahoeController20=c.isMuted());this.$TahoeController42(a);this.$TahoeController9.setMediaContent(this.$TahoeController23.getRootNode());this.$TahoeController15=this.$TahoeController23.getMediaID();this.$TahoeController22=!1;this.setMediaState();c=this.$TahoeController33;c.setUpEndScreen();this.$TahoeController33.setUpUFI();this.$TahoeController26=b("VideoPlayerReason").USER};q.prototype.getView=function(){return this.$TahoeController33};q.prototype.setAutoplayAllowed=function(a){this.$TahoeController3=a};q.prototype.logEvent=function(a){new(b("TahoeTypedLogger"))().setEvent(a).setMediaID(this.$TahoeController15).log()};q.prototype.getFeedLocation=function(){return this.$TahoeController38};q.openFromVideoPlayer=function(a,c,d,e,f,g,h,i,j){__p&&__p();b("EventProfiler").tagCurrentActiveInteractionsAs("TahoeFromVideoPlayer");var k=b("TimeSlice").getGuardedContinuation("TahoeController beginPlayback");a.once("beginPlayback",k.bind(undefined,function(){b("EventProfiler").informPointOnActiveInteractions("tahoe_media_done",{isPointOfInterest:!0},!0)}));var l=b("collectDataAttributes")(a.getRootNode(),["ft"]);e=b("gkx")("AT4fYz6-EGGUgvyAFfx6l7YSfZ7cm8o38gmWbQKe3dar4CzesGta_hgB442DTXOu3G0jCh8vHu33BDEIFvAwLYir")?b("VideoChainingCaller").TAHOE:e;a=new q({mediaController:{video:a},uri:c,channelID:d,caller:e,origin:g,suborigin:h,feedTracking:l,storyIdentifier:i,feedLocation:j,entryDocumentTitle:document.title});a.$TahoeController6=k;b("Tahoe").set(a);switch(f){case"player_click":a.logEvent(b("TahoeLoggerEvent").ENTER_WITH_PLAYER_CLICK);break;case"control_click":a.logEvent(b("TahoeLoggerEvent").ENTER_WITH_CONTROL_CLICK);break;case"live_video_reply_click":a.logEvent(b("TahoeLoggerEvent").ENTER_WITH_LIVE_VIDEO_REPLY_CLICK);break}};q.openFromVideoLink=function(a,c){__p&&__p();c===void 0&&(c={channelID:null,caller:null});c=c;var d=c.channelID,e=c.caller,f=c.origin,g=c.suborigin,h=c.reactionVideoChannelType,i=c.reactionVideoChannelSubtype,k=c.externalLogID,l=c.searchKeywordsForVideoChaining;c=c.feedLocation;e=b("gkx")("AT4fYz6-EGGUgvyAFfx6l7YSfZ7cm8o38gmWbQKe3dar4CzesGta_hgB442DTXOu3G0jCh8vHu33BDEIFvAwLYir")?b("VideoChainingCaller").TAHOE:e;b("EventProfiler").tagCurrentActiveInteractionsAs("TahoeFromVideoLink");j&&j.pauseActiveVideo();var m=b("Tahoe").get();if(m){document.title=b("TahoeConstants").DEFAULT_BROWSER_TITLE;b("PageTransitions").go(a);return}f||(f=e&&e in b("VideoChannelCallerToPlayerOriginMap")?b("VideoChannelCallerToPlayerOriginMap")[e]:b("VideoPlayerOrigins").UNKNOWN);b("Tahoe").set(new q({uri:a,channelID:d,caller:e,origin:f,suborigin:g,reactionVideoChannelType:h,reactionVideoChannelSubtype:i,externalLogID:k,searchKeywordsForVideoChaining:l,feedLocation:c,entryDocumentTitle:document.title}))};q.openFromVideoLinkHelper=function(a,c,d,e,f){var g=a.getAttribute("data-channel-caller");g=b("gkx")("AT4fYz6-EGGUgvyAFfx6l7YSfZ7cm8o38gmWbQKe3dar4CzesGta_hgB442DTXOu3G0jCh8vHu33BDEIFvAwLYir")?b("VideoChainingCaller").TAHOE:g;var h=a.getAttribute("data-external-log-id")||undefined;c=a.getAttribute("data-player-origin")||c;q.openFromVideoLink(new(b("URI"))(a.getAttribute("href")).addQueryData("ref","tahoe"),{channelID:a.getAttribute("data-video-channel-id"),caller:g,origin:c,suborigin:d,externalLogID:h,searchKeywordsForVideoChaining:a.getAttribute("data-search-keyword"),reactionVideoChannelType:e||undefined,feedLocation:f})};q.openFromVideoPermalink=function(a,c){c===void 0&&(c=null),b("Tahoe").set(new q({uri:new(b("URI"))(a),origin:b("VideoPlayerOrigins").PERMALINK,suborigin:"tahoe",isPermalink:!0,storyIdentifier:c,caller:b("gkx")("AT4fYz6-EGGUgvyAFfx6l7YSfZ7cm8o38gmWbQKe3dar4CzesGta_hgB442DTXOu3G0jCh8vHu33BDEIFvAwLYir")?b("VideoChainingCaller").TAHOE:null}))};q.openFromShowVideoPermalink=function(a,c,d){d===void 0&&(d=null),b("Tahoe").set(new q({uri:new(b("URI"))(a),origin:b("VideoPlayerOrigins").VIDEO_HOME,suborigin:"notifications",isPermalink:!0,watchLandingPage:c,storyIdentifier:d,caller:b("gkx")("AT4fYz6-EGGUgvyAFfx6l7YSfZ7cm8o38gmWbQKe3dar4CzesGta_hgB442DTXOu3G0jCh8vHu33BDEIFvAwLYir")?b("VideoChainingCaller").TAHOE:null}))};e.exports=q}),null);
__d("TahoeDOM",["csx","cx","BlueBar","BootloadedComponent.react","CSS","DialogX","DOM","DOMQuery","FBFeedLocations","JSResource","MediaController","React","ReactDOM","Style","TahoeController","URI","WWWSiteOrganizationGating","XUISpinner.react","ge","getElementPosition","getVendorPrefixedName"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=876;function a(a){this.$6=a}a.prototype.createDialog=function(){__p&&__p();var a={width:i},c=this.$6.getFeedLocation();this.$1=b("CSS").setClass(b("DOM").create("div"),"_5-g-");b("CSS").conditionClass(this.$1,"_23ic",b("WWWSiteOrganizationGating").largerBlueBar);var d=b("ge")("bizBlackBar");b("CSS").conditionClass(this.$1,"_699q",!b("BlueBar").hasFixedBlueBar()&&!d);d=b("ge")("mediaManagerGlobalChromeBar");b("CSS").conditionClass(this.$1,"_1dm_",c===b("FBFeedLocations").MEDIA_MANAGER_HOME||d);this.$4=b("CSS").setClass(b("DOM").create("div"),"_6444");b("DOM").appendContent(this.$1,this.$4);this.$8=b("CSS").setClass(b("DOM").create("div"),"_6445 _6j32");b("DOM").appendContent(this.$1,this.$8);c=new(b("DialogX"))(a,this.$1);b("CSS").setClass(c.getRoot(),"_5-g_");document.body&&b("CSS").addClass(document.body,"_1_-b");c.show();this.$9(c);return c};a.prototype.$9=function(a){var c=b("DOMQuery").find(document.body,"._li");b("DOM").appendContent(c,a.getRoot())};a.prototype.placeBackAffordance=function(a,c,d,e){b("ReactDOM").render(b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("TahoeBackAffordanceContainer.react").__setRef("TahoeDOM"),bootloadPlaceholder:b("React").createElement("div",{className:"_4ua2"}),entryURI:a,isPermalink:c,isShowVideo:d,mediaController:e}),this.$4)};a.prototype.insertPlaceholderMedia=function(){var a=b("CSS").setClass(b("DOM").create("div"),"_1c_u");b("ReactDOM").render(b("React").createElement(b("XUISpinner.react"),{className:"_179h",size:"large",background:"dark"}),a);this.$5=a;a=b("CSS").setClass(b("DOM").create("div"),"_5-yb _5_63");b("DOM").setContent(a,this.$5);b("DOM").prependContent(this.$4,a)};a.prototype.insertMedia=function(a){var c=b("getElementPosition")(a);this.$5=a;this.$2=b("DOM").create("div");b("DOM").insertAfter(this.$5,this.$2);this.$7=!0;a=b("CSS").setClass(b("DOM").create("div"),"_5-yb _5_63");b("DOM").setContent(a,this.$5);b("DOM").prependContent(this.getContent(),a);this.$10(a,c)};a.prototype.$10=function(a,c){this.$6.setMediaState();var d=b("Style").getFloat(this.$5,"width"),e=b("Style").getFloat(this.$5,"height"),f="translate("+c.x+"px,"+c.y+"px)";d="scale("+c.width/d+", "+c.height/e+")";b("Style").set(a,b("getVendorPrefixedName")("transform"),f+" "+d);a.offsetWidth;b("Style").set(a,"transition","all .4s cubic-bezier(.12,.8,.32,1)");b("Style").set(a,b("getVendorPrefixedName")("transform"),"none")};a.prototype.returnFeedElement=function(){var a=this.$5.clientHeight,c=b("CSS").setClass(b("DOM").create("div"),"_1c_u _61-j");b("ReactDOM").render(b("React").createElement(b("XUISpinner.react"),{size:"large",background:"dark"}),c);b("Style").set(c,"height",a+"px");b("DOM").prependContent(this.getContent(),c);this.$7?(b("DOM").insertAfter(this.$2,this.$3),b("DOM").remove(this.$2),b("Style").set(this.$3,"width",""),b("Style").set(this.$3,"height","")):b("DOM").remove(this.getContent().children[1]);this.$7=!1};a.prototype.cleanup=function(){var a=document.body;a&&(b("CSS").removeClass(a,"_1_-b"),b("CSS").removeClass(a,"_3yn5"));b("ReactDOM").unmountComponentAtNode(this.$4)};a.prototype.getDialogContent=function(){return this.$1};a.prototype.getContent=function(){return this.$4};a.prototype.getMediaContent=function(){return this.$5};a.prototype.setMediaContent=function(a){this.$5=a};a.prototype.setMediaContentSize=function(a,c){b("Style").set(this.$5,"width",a),b("Style").set(this.$5,"height",c)};a.prototype.setMediaSizeForTahoeV2=function(a,c){b("Style").set(this.$5,"width",a+"px"),b("Style").set(this.$5,"height",c+"px"),b("Style").set(this.$4,"width",a+"px")};a.prototype.setInitialMediaContent=function(a){this.$3=a};a.prototype.getSideContent=function(){return this.$8};e.exports=a}),null);